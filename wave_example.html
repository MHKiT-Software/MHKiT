

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-164358105-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-164358105-1');
    </script>
    
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MHKiT Wave Module &mdash; MHKiT v1.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/nbsphinx-code-cells.css?v=2aa19091" />
      <link rel="stylesheet" type="text/css" href="_static/css/mhkit.css?v=70d0d80f" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=d29a5c0e"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="MHKiT WEC-Sim Example" href="wecsim_example.html" />
    <link rel="prev" title="MHKit Upcrossing Analysis Example" href="upcrossing_example.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            MHKiT
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">MHKiT-Python Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="matlab_installation.html">MHKiT-MATLAB Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="module.html">Module Overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="examples.html">Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="examples.html#overview">Overview</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="examples.html#all-python-notebooks">All Python Notebooks</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="ADCP_Delft3D_TRTS_example.html">Comparing Transect Data at the Tanana River Test Site</a></li>
<li class="toctree-l3"><a class="reference internal" href="Delft3D_example.html">Delft3D IO Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="PacWave_resource_characterization_example.html">PacWave Resource Assessment</a></li>
<li class="toctree-l3"><a class="reference internal" href="SWAN_example.html">MHKiT SWAN Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="WPTO_hindcast_example.html">MHKiT WPTO Hindcast Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="acoustics_example.html">Analyzing Passive Acoustic Data with MHKiT</a></li>
<li class="toctree-l3"><a class="reference internal" href="adcp_discharge_example.html">ADCP Discharge Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="adcp_example.html">Analyzing ADCP Data with MHKiT</a></li>
<li class="toctree-l3"><a class="reference internal" href="adv_example.html">Reading ADV Data with MHKiT</a></li>
<li class="toctree-l3"><a class="reference internal" href="cdip_example.html">MHKiT CDIP IO</a></li>
<li class="toctree-l3"><a class="reference internal" href="environmental_contours_example.html">MHKiT Environmental Contours</a></li>
<li class="toctree-l3"><a class="reference internal" href="extreme_response_MLER_example.html">MLER example</a></li>
<li class="toctree-l3"><a class="reference internal" href="extreme_response_contour_example.html">Extreme Conditions Modeling - Contour Approach</a></li>
<li class="toctree-l3"><a class="reference internal" href="extreme_response_full_sea_state_example.html">Extreme Conditions Modeling - Full Sea State Approach</a></li>
<li class="toctree-l3"><a class="reference internal" href="loads_example.html">MHKiT Loads Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="metocean_example.html">MHKiT Metocean Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="mooring_example.html">Mooring Module Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="power_example.html">MHKiT Power Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="qc_example.html">MHKiT Quality Control Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="river_example.html">MHKiT River Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="short_term_extremes_example.html">MHKit Short-term Extreme Loads</a></li>
<li class="toctree-l3"><a class="reference internal" href="strain_measurement_example.html">Strain Measurement Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="tidal_example.html">MHKiT Tidal Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="tidal_performance_example.html">Tidal Power Performance Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="upcrossing_example.html">MHKit Upcrossing Analysis Example</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">MHKiT Wave Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Load-NDBC-Data">Load NDBC Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Compute-Wave-Metrics">Compute Wave Metrics</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Generate-Random-Power-Data">Generate Random Power Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Capture-Width-Matrices">Capture Width Matrices</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Power-Matrices">Power Matrices</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Calculate-MAEP">Calculate MAEP</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Graphics">Graphics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="wecsim_example.html">MHKiT WEC-Sim Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="wecsim_power_performance_example.html">MHKiT WEC-Sim Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="directional_waves.html">Directional Wave Spectrum from NDBC Buoys</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="terminology.html">Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="webinars.html">Webinars</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="citeus.html">Cite Us</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact.html">Online Forum</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MHKiT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="examples.html">Examples</a></li>
      <li class="breadcrumb-item active">MHKiT Wave Module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/wave_example.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="MHKiT-Wave-Module">
<h1>MHKiT Wave Module<a class="headerlink" href="#MHKiT-Wave-Module" title="Link to this heading"></a></h1>
<p>The following example runs an application of the <a class="reference external" href="https://mhkit-software.github.io/MHKiT/mhkit-python/api.wave.html">MHKiT wave module</a> to 1) read in NDBC data, 2) compute metrics from spectral data, 3) generate a capture width matrix, 4) calculate MAEP, and 5) plot the matrices.</p>
<p>Start by importing the necessary python packages and MHKiT module.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">mhkit</span><span class="w"> </span><span class="kn">import</span> <span class="n">wave</span>
</pre></div>
</div>
</div>
<section id="Load-NDBC-Data">
<h2>Load NDBC Data<a class="headerlink" href="#Load-NDBC-Data" title="Link to this heading"></a></h2>
<p>We can use MHKiT to load data downloaded from <a class="reference external" href="https://www.ndbc.noaa.gov">https://www.ndbc.noaa.gov</a>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ndbc_data_file</span> <span class="o">=</span> <span class="s2">&quot;data/wave/data.txt&quot;</span>

<span class="c1"># ndbc.read_file outputs the NDBC file data into two variables.</span>
<span class="c1"># raw_ndbc_data is a pandas DataFrame containing the file data.</span>
<span class="c1"># meta contains the meta data, if available.</span>
<span class="p">[</span><span class="n">raw_ndbc_data</span><span class="p">,</span> <span class="n">meta</span><span class="p">]</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">ndbc</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">ndbc_data_file</span><span class="p">)</span>
<span class="n">raw_ndbc_data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
c:\users\akeeste\documents\software\github\mhkit-python\mhkit\wave\io\ndbc.py:99: UserWarning: Could not infer format, so each element will be parsed individually, falling back to `dateutil`. To ensure parsing is consistent and as-expected, please specify a format.
  data = pd.read_csv(
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0.0200</th>
      <th>0.0325</th>
      <th>0.0375</th>
      <th>0.0425</th>
      <th>0.0475</th>
      <th>0.0525</th>
      <th>0.0575</th>
      <th>0.0625</th>
      <th>0.0675</th>
      <th>0.0725</th>
      <th>...</th>
      <th>0.3300</th>
      <th>0.3400</th>
      <th>0.3500</th>
      <th>0.3650</th>
      <th>0.3850</th>
      <th>0.4050</th>
      <th>0.4250</th>
      <th>0.4450</th>
      <th>0.4650</th>
      <th>0.4850</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2018-01-01 00:40:00</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.03</td>
      <td>0.04</td>
      <td>0.09</td>
      <td>0.22</td>
      <td>0.22</td>
      <td>...</td>
      <td>0.07</td>
      <td>0.08</td>
      <td>0.07</td>
      <td>0.07</td>
      <td>0.03</td>
      <td>0.01</td>
      <td>0.02</td>
      <td>0.01</td>
      <td>0.01</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2018-01-01 01:40:00</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.02</td>
      <td>0.06</td>
      <td>0.08</td>
      <td>0.21</td>
      <td>0.21</td>
      <td>...</td>
      <td>0.07</td>
      <td>0.07</td>
      <td>0.08</td>
      <td>0.02</td>
      <td>0.01</td>
      <td>0.02</td>
      <td>0.01</td>
      <td>0.01</td>
      <td>0.00</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2018-01-01 02:40:00</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.00</td>
      <td>0.08</td>
      <td>0.07</td>
      <td>0.14</td>
      <td>0.32</td>
      <td>...</td>
      <td>0.08</td>
      <td>0.06</td>
      <td>0.05</td>
      <td>0.03</td>
      <td>0.03</td>
      <td>0.02</td>
      <td>0.01</td>
      <td>0.01</td>
      <td>0.00</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2018-01-01 03:40:00</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.00</td>
      <td>0.13</td>
      <td>0.22</td>
      <td>0.26</td>
      <td>0.32</td>
      <td>...</td>
      <td>0.05</td>
      <td>0.06</td>
      <td>0.05</td>
      <td>0.03</td>
      <td>0.03</td>
      <td>0.01</td>
      <td>0.01</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2018-01-01 04:40:00</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.03</td>
      <td>0.14</td>
      <td>0.17</td>
      <td>0.37</td>
      <td>0.40</td>
      <td>...</td>
      <td>0.06</td>
      <td>0.12</td>
      <td>0.04</td>
      <td>0.04</td>
      <td>0.02</td>
      <td>0.01</td>
      <td>0.01</td>
      <td>0.01</td>
      <td>0.01</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 47 columns</p>
</div></div>
</div>
<p>The resulting DataFrame is spectra indexed (rows) by datetime with frequency as the columns. To use this data in MHKiT functions we must first transpose the DataFrame</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Transpose raw NDBC data</span>
<span class="n">ndbc_data</span> <span class="o">=</span> <span class="n">raw_ndbc_data</span><span class="o">.</span><span class="n">T</span>
<span class="n">ndbc_data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>2018-01-01 00:40:00</th>
      <th>2018-01-01 01:40:00</th>
      <th>2018-01-01 02:40:00</th>
      <th>2018-01-01 03:40:00</th>
      <th>2018-01-01 04:40:00</th>
      <th>2018-01-01 05:40:00</th>
      <th>2018-01-01 06:40:00</th>
      <th>2018-01-01 07:40:00</th>
      <th>2018-01-01 08:40:00</th>
      <th>2018-01-01 09:40:00</th>
      <th>...</th>
      <th>2018-01-31 14:40:00</th>
      <th>2018-01-31 15:40:00</th>
      <th>2018-01-31 16:40:00</th>
      <th>2018-01-31 17:40:00</th>
      <th>2018-01-31 18:40:00</th>
      <th>2018-01-31 19:40:00</th>
      <th>2018-01-31 20:40:00</th>
      <th>2018-01-31 21:40:00</th>
      <th>2018-01-31 22:40:00</th>
      <th>2018-01-31 23:40:00</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0.0200</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.00</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.00</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.00</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>0.0325</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.00</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.00</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.00</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>0.0375</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.00</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.00</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.00</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>0.0425</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.00</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.00</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.00</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>0.0475</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.01</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.06</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.07</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 743 columns</p>
</div></div>
</div>
</section>
<section id="Compute-Wave-Metrics">
<h2>Compute Wave Metrics<a class="headerlink" href="#Compute-Wave-Metrics" title="Link to this heading"></a></h2>
<p>We will now use MHKiT to compute the significant wave height, energy period, and energy flux.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Compute the enegy periods from the NDBC spectra data</span>
<span class="n">Te</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">resource</span><span class="o">.</span><span class="n">energy_period</span><span class="p">(</span><span class="n">ndbc_data</span><span class="p">)</span>
<span class="n">Te</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
variable
2018-01-01 00:40:00    7.458731
2018-01-01 01:40:00    7.682413
2018-01-01 02:40:00    7.498263
2018-01-01 03:40:00    7.676198
2018-01-01 04:40:00    7.669476
Name: Te, dtype: float64
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Compute the significant wave height from the NDBC spectra data</span>
<span class="n">Hm0</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">resource</span><span class="o">.</span><span class="n">significant_wave_height</span><span class="p">(</span><span class="n">ndbc_data</span><span class="p">)</span>
<span class="n">Hm0</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
variable
2018-01-01 00:40:00    0.939574
2018-01-01 01:40:00    1.001399
2018-01-01 02:40:00    0.924770
2018-01-01 03:40:00    0.962497
2018-01-01 04:40:00    0.989949
Name: Hm0, dtype: float64
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set water depth to 60 m</span>
<span class="n">h</span> <span class="o">=</span> <span class="mi">60</span>

<span class="c1"># Compute the energy flux  from the NDBC spectra data and water depth</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">resource</span><span class="o">.</span><span class="n">energy_flux</span><span class="p">(</span><span class="n">ndbc_data</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>
<span class="n">J</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
variable
2018-01-01 00:40:00    3354.825613
2018-01-01 01:40:00    3916.541523
2018-01-01 02:40:00    3278.298930
2018-01-01 03:40:00    3664.246679
2018-01-01 04:40:00    3867.014933
Name: J, dtype: float64
</pre></div></div>
</div>
<section id="Note-on-data-types">
<h3>Note on data types<a class="headerlink" href="#Note-on-data-types" title="Link to this heading"></a></h3>
<p>MHKiT functions typically allow Pandas Series, Pandas DataFrame, or xarray DataArray input. Multidimensional data (DataFrames and DataArrays) typically require an index or dimension name to specify the frequency or time dimension in question. If not supplied, the first dimension is assumed to be the relevant dimension.</p>
<p>The above results (energy period, energy flux, and significant wave height) were returned as Pandas Series. 2D wave spectral data (frequency x time) was input and the frequency dimension was reduced leaving 1D, columnar data as the output. In Pandas, this is represented as a Series. If a DataArray with 3 or more dimensions was input, the output would be a DataArray with one fewer dimensions.</p>
</section>
</section>
<section id="Generate-Random-Power-Data">
<h2>Generate Random Power Data<a class="headerlink" href="#Generate-Random-Power-Data" title="Link to this heading"></a></h2>
<p>For demonstration purposes, this example uses synthetic power data generated from statistical distributions. In a real application, the user would provide power values from a WEC. The data is stored in pandas Series, containing 743 points.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set the random seed, to reproduce results</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># Generate random power values</span>
<span class="n">P</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">743</span><span class="p">),</span> <span class="n">index</span><span class="o">=</span><span class="n">J</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Capture-Width-Matrices">
<h2>Capture Width Matrices<a class="headerlink" href="#Capture-Width-Matrices" title="Link to this heading"></a></h2>
<p>The following operations create capture width matrices, as specified by the IEC TS 62600-100. But first, we need to calculate capture width and define bin centers. The mean capture width matrix is printed below. Keep in mind that this data has been artificially generated, so it may not be representative of what a real-world scatter diagram would look like.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calculate capture width</span>
<span class="n">CW</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">capture_width</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">J</span><span class="p">)</span>

<span class="c1"># Generate bins for Hm0 and Te, input format (start, stop, step_size)</span>
<span class="n">Hm0_bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">Hm0</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="n">Te_bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">Te</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Create capture width matrices using mean, standard deviation, count, min and max statistics</span>
<span class="n">CWM_mean</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">capture_width_matrix</span><span class="p">(</span><span class="n">Hm0</span><span class="p">,</span> <span class="n">Te</span><span class="p">,</span> <span class="n">CW</span><span class="p">,</span> <span class="s2">&quot;mean&quot;</span><span class="p">,</span> <span class="n">Hm0_bins</span><span class="p">,</span> <span class="n">Te_bins</span><span class="p">)</span>
<span class="n">CWM_std</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">capture_width_matrix</span><span class="p">(</span><span class="n">Hm0</span><span class="p">,</span> <span class="n">Te</span><span class="p">,</span> <span class="n">CW</span><span class="p">,</span> <span class="s2">&quot;std&quot;</span><span class="p">,</span> <span class="n">Hm0_bins</span><span class="p">,</span> <span class="n">Te_bins</span><span class="p">)</span>
<span class="n">CWM_count</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">capture_width_matrix</span><span class="p">(</span>
    <span class="n">Hm0</span><span class="p">,</span> <span class="n">Te</span><span class="p">,</span> <span class="n">CW</span><span class="p">,</span> <span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="n">Hm0_bins</span><span class="p">,</span> <span class="n">Te_bins</span>
<span class="p">)</span>
<span class="n">CWM_min</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">capture_width_matrix</span><span class="p">(</span><span class="n">Hm0</span><span class="p">,</span> <span class="n">Te</span><span class="p">,</span> <span class="n">CW</span><span class="p">,</span> <span class="s2">&quot;min&quot;</span><span class="p">,</span> <span class="n">Hm0_bins</span><span class="p">,</span> <span class="n">Te_bins</span><span class="p">)</span>
<span class="n">CWM_max</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">capture_width_matrix</span><span class="p">(</span><span class="n">Hm0</span><span class="p">,</span> <span class="n">Te</span><span class="p">,</span> <span class="n">CW</span><span class="p">,</span> <span class="s2">&quot;max&quot;</span><span class="p">,</span> <span class="n">Hm0_bins</span><span class="p">,</span> <span class="n">Te_bins</span><span class="p">)</span>

<span class="c1"># Show mean capture width matrix</span>
<span class="n">CWM_mean</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
c:\users\akeeste\documents\software\github\mhkit-python\mhkit\wave\performance.py:141: UserWarning: Matrix bin widths are greater than the IEC TS 62600-100 limit of 1.0 seconds.
  warnings.warn(&#34;Matrix bin widths are greater than the IEC TS 62600-100 limit of 1.0 seconds.&#34;)
c:\users\akeeste\documents\software\github\mhkit-python\mhkit\wave\performance.py:141: UserWarning: Matrix bin widths are greater than the IEC TS 62600-100 limit of 1.0 seconds.
  warnings.warn(&#34;Matrix bin widths are greater than the IEC TS 62600-100 limit of 1.0 seconds.&#34;)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>y_centers</th>
      <th>0.0</th>
      <th>1.0</th>
      <th>2.0</th>
      <th>3.0</th>
      <th>4.0</th>
      <th>5.0</th>
      <th>6.0</th>
      <th>7.0</th>
      <th>8.0</th>
      <th>9.0</th>
      <th>10.0</th>
      <th>11.0</th>
      <th>12.0</th>
      <th>13.0</th>
      <th>14.0</th>
      <th>15.0</th>
      <th>16.0</th>
    </tr>
    <tr>
      <th>x_centers</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0.0</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>0.5</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.120286</td>
      <td>0.053376</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1.0</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.110686</td>
      <td>0.068070</td>
      <td>0.049452</td>
      <td>0.065912</td>
      <td>NaN</td>
      <td>0.056593</td>
      <td>0.029950</td>
      <td>0.017234</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1.5</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.019749</td>
      <td>0.018673</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.012473</td>
      <td>0.011205</td>
      <td>0.012307</td>
      <td>0.010432</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2.0</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.013882</td>
      <td>0.012547</td>
      <td>0.009672</td>
      <td>0.008770</td>
      <td>0.008585</td>
      <td>0.007525</td>
      <td>0.005272</td>
      <td>0.007809</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2.5</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.007244</td>
      <td>0.006488</td>
      <td>0.005788</td>
      <td>0.005652</td>
      <td>0.005180</td>
      <td>0.004260</td>
      <td>0.003623</td>
      <td>0.004509</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3.0</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.004500</td>
      <td>0.005660</td>
      <td>0.004691</td>
      <td>0.004109</td>
      <td>0.003952</td>
      <td>0.003104</td>
      <td>0.003408</td>
      <td>0.002291</td>
      <td>0.001792</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3.5</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.003924</td>
      <td>0.003674</td>
      <td>0.003020</td>
      <td>0.002746</td>
      <td>0.002247</td>
      <td>0.002000</td>
      <td>0.002257</td>
      <td>0.002033</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4.0</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.003185</td>
      <td>0.002513</td>
      <td>0.002386</td>
      <td>0.002147</td>
      <td>0.002246</td>
      <td>0.001605</td>
      <td>0.001730</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4.5</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.002343</td>
      <td>0.002087</td>
      <td>0.001919</td>
      <td>0.001590</td>
      <td>0.001438</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>5.0</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.001913</td>
      <td>0.001720</td>
      <td>0.001716</td>
      <td>0.001411</td>
      <td>0.001219</td>
      <td>0.001345</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>5.5</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.002101</td>
      <td>0.001516</td>
      <td>0.001331</td>
      <td>0.000902</td>
      <td>0.001033</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>6.0</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.001097</td>
      <td>0.000895</td>
      <td>NaN</td>
      <td>0.000858</td>
      <td>0.000987</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>6.5</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.000837</td>
      <td>0.001024</td>
      <td>0.000419</td>
      <td>NaN</td>
      <td>0.000688</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>7.0</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.000461</td>
      <td>0.000633</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>7.5</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.000553</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.000312</td>
      <td>0.000437</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>8.0</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.000443</td>
      <td>0.000351</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>8.5</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.000418</td>
      <td>0.000405</td>
    </tr>
    <tr>
      <th>9.0</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>9.5</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.000153</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>10.0</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.000281</td>
    </tr>
    <tr>
      <th>10.5</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.000204</td>
      <td>0.000225</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>Additional capture width matrices can be computed, for example, the frequency matrix is computed below.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create capture width matrices using frequency</span>
<span class="n">CWM_freq</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">capture_width_matrix</span><span class="p">(</span>
    <span class="n">Hm0</span><span class="p">,</span> <span class="n">Te</span><span class="p">,</span> <span class="n">CW</span><span class="p">,</span> <span class="s2">&quot;frequency&quot;</span><span class="p">,</span> <span class="n">Hm0_bins</span><span class="p">,</span> <span class="n">Te_bins</span>
<span class="p">)</span>

<span class="c1"># Show capture width matrix using frequency</span>
<span class="n">CWM_freq</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
c:\users\akeeste\documents\software\github\mhkit-python\mhkit\wave\performance.py:141: UserWarning: Matrix bin widths are greater than the IEC TS 62600-100 limit of 1.0 seconds.
  warnings.warn(&#34;Matrix bin widths are greater than the IEC TS 62600-100 limit of 1.0 seconds.&#34;)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>y_centers</th>
      <th>0.0</th>
      <th>1.0</th>
      <th>2.0</th>
      <th>3.0</th>
      <th>4.0</th>
      <th>5.0</th>
      <th>6.0</th>
      <th>7.0</th>
      <th>8.0</th>
      <th>9.0</th>
      <th>10.0</th>
      <th>11.0</th>
      <th>12.0</th>
      <th>13.0</th>
      <th>14.0</th>
      <th>15.0</th>
      <th>16.0</th>
    </tr>
    <tr>
      <th>x_centers</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0.0</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>0.5</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.002692</td>
      <td>0.001346</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>1.0</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.001346</td>
      <td>0.006729</td>
      <td>0.004038</td>
      <td>0.001346</td>
      <td>0.000000</td>
      <td>0.002692</td>
      <td>0.002692</td>
      <td>0.001346</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>1.5</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.005384</td>
      <td>0.002692</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.009421</td>
      <td>0.004038</td>
      <td>0.006729</td>
      <td>0.005384</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>2.0</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.002692</td>
      <td>0.005384</td>
      <td>0.018843</td>
      <td>0.018843</td>
      <td>0.029610</td>
      <td>0.021534</td>
      <td>0.001346</td>
      <td>0.002692</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>2.5</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.013459</td>
      <td>0.052490</td>
      <td>0.055182</td>
      <td>0.018843</td>
      <td>0.025572</td>
      <td>0.022880</td>
      <td>0.005384</td>
      <td>0.001346</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>3.0</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.001346</td>
      <td>0.021534</td>
      <td>0.044415</td>
      <td>0.047106</td>
      <td>0.020188</td>
      <td>0.012113</td>
      <td>0.010767</td>
      <td>0.010767</td>
      <td>0.001346</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>3.5</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.006729</td>
      <td>0.040377</td>
      <td>0.029610</td>
      <td>0.047106</td>
      <td>0.004038</td>
      <td>0.008075</td>
      <td>0.004038</td>
      <td>0.001346</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>4.0</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.009421</td>
      <td>0.017497</td>
      <td>0.029610</td>
      <td>0.040377</td>
      <td>0.002692</td>
      <td>0.004038</td>
      <td>0.005384</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>4.5</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.016151</td>
      <td>0.013459</td>
      <td>0.017497</td>
      <td>0.022880</td>
      <td>0.012113</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>5.0</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.002692</td>
      <td>0.008075</td>
      <td>0.008075</td>
      <td>0.010767</td>
      <td>0.022880</td>
      <td>0.001346</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>5.5</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.001346</td>
      <td>0.012113</td>
      <td>0.006729</td>
      <td>0.004038</td>
      <td>0.014805</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>6.0</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.002692</td>
      <td>0.002692</td>
      <td>0.000000</td>
      <td>0.005384</td>
      <td>0.001346</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>6.5</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.002692</td>
      <td>0.002692</td>
      <td>0.001346</td>
      <td>0.000000</td>
      <td>0.002692</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>7.0</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.001346</td>
      <td>0.004038</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>7.5</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.001346</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.001346</td>
      <td>0.008075</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>8.0</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.002692</td>
      <td>0.002692</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>8.5</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.001346</td>
      <td>0.001346</td>
    </tr>
    <tr>
      <th>9.0</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>9.5</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.001346</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>10.0</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.001346</td>
    </tr>
    <tr>
      <th>10.5</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.001346</td>
      <td>0.001346</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">capture_width_matrix</span></code> function can also be used as an arbitrary matrix generator. To do this, simply pass a different Series in the place of capture width (CW). For example, while not specified by the IEC standards, if the user doesn’t have the omnidirectional wave flux, the average power matrix could hypothetically be generated in the following manner.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Demonstration of arbitrary matrix generator</span>
<span class="n">PM_mean_not_standard</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">capture_width_matrix</span><span class="p">(</span>
    <span class="n">Hm0</span><span class="p">,</span> <span class="n">Te</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="s2">&quot;mean&quot;</span><span class="p">,</span> <span class="n">Hm0_bins</span><span class="p">,</span> <span class="n">Te_bins</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
c:\users\akeeste\documents\software\github\mhkit-python\mhkit\wave\performance.py:141: UserWarning: Matrix bin widths are greater than the IEC TS 62600-100 limit of 1.0 seconds.
  warnings.warn(&#34;Matrix bin widths are greater than the IEC TS 62600-100 limit of 1.0 seconds.&#34;)
</pre></div></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">capture_width_matrix</span></code> function can also use a callable function as the statistic argument. For example, suppose that we wanted to generate a matrix with the variance of the capture width. We could achieve this by passing the NumPy variance function <code class="docutils literal notranslate"><span class="pre">np.var</span></code> into the <code class="docutils literal notranslate"><span class="pre">capture_width_matrix</span></code> function, as shown below.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Demonstration of passing a callable function to the matrix generator</span>
<span class="n">CWM_variance</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">capture_width_matrix</span><span class="p">(</span>
    <span class="n">Hm0</span><span class="p">,</span> <span class="n">Te</span><span class="p">,</span> <span class="n">CW</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">var</span><span class="p">,</span> <span class="n">Hm0_bins</span><span class="p">,</span> <span class="n">Te_bins</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
c:\users\akeeste\documents\software\github\mhkit-python\mhkit\wave\performance.py:141: UserWarning: Matrix bin widths are greater than the IEC TS 62600-100 limit of 1.0 seconds.
  warnings.warn(&#34;Matrix bin widths are greater than the IEC TS 62600-100 limit of 1.0 seconds.&#34;)
</pre></div></div>
</div>
</section>
<section id="Power-Matrices">
<h2>Power Matrices<a class="headerlink" href="#Power-Matrices" title="Link to this heading"></a></h2>
<p>As specified in IEC TS 62600-100, the power matrix is generated from the capture width matrix and wave energy flux matrix, as shown below</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create wave energy flux matrix using mean</span>
<span class="n">JM</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">wave_energy_flux_matrix</span><span class="p">(</span><span class="n">Hm0</span><span class="p">,</span> <span class="n">Te</span><span class="p">,</span> <span class="n">J</span><span class="p">,</span> <span class="s2">&quot;mean&quot;</span><span class="p">,</span> <span class="n">Hm0_bins</span><span class="p">,</span> <span class="n">Te_bins</span><span class="p">)</span>

<span class="c1"># Create power matrix using mean</span>
<span class="n">PM_mean</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">power_matrix</span><span class="p">(</span><span class="n">CWM_mean</span><span class="p">,</span> <span class="n">JM</span><span class="p">)</span>

<span class="c1"># Create power matrix using standard deviation</span>
<span class="n">PM_std</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">power_matrix</span><span class="p">(</span><span class="n">CWM_std</span><span class="p">,</span> <span class="n">JM</span><span class="p">)</span>

<span class="c1"># Show mean power matrix, round to 3 decimals</span>
<span class="n">PM_mean</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>y_centers</th>
      <th>0.0</th>
      <th>1.0</th>
      <th>2.0</th>
      <th>3.0</th>
      <th>4.0</th>
      <th>5.0</th>
      <th>6.0</th>
      <th>7.0</th>
      <th>8.0</th>
      <th>9.0</th>
      <th>10.0</th>
      <th>11.0</th>
      <th>12.0</th>
      <th>13.0</th>
      <th>14.0</th>
      <th>15.0</th>
      <th>16.0</th>
    </tr>
    <tr>
      <th>x_centers</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0.0</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>0.5</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>224.996</td>
      <td>117.594</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1.0</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>212.762</td>
      <td>202.713</td>
      <td>188.707</td>
      <td>187.103</td>
      <td>NaN</td>
      <td>213.926</td>
      <td>174.154</td>
      <td>164.886</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1.5</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>176.402</td>
      <td>199.802</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>201.883</td>
      <td>191.598</td>
      <td>221.705</td>
      <td>190.124</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2.0</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>203.667</td>
      <td>216.857</td>
      <td>192.965</td>
      <td>201.633</td>
      <td>216.268</td>
      <td>209.634</td>
      <td>162.569</td>
      <td>232.530</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2.5</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>193.397</td>
      <td>203.529</td>
      <td>196.907</td>
      <td>212.883</td>
      <td>211.277</td>
      <td>202.760</td>
      <td>199.263</td>
      <td>272.421</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3.0</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>170.739</td>
      <td>216.459</td>
      <td>197.484</td>
      <td>200.895</td>
      <td>212.107</td>
      <td>193.837</td>
      <td>222.185</td>
      <td>169.497</td>
      <td>122.296</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3.5</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>194.894</td>
      <td>214.108</td>
      <td>202.725</td>
      <td>206.901</td>
      <td>184.099</td>
      <td>186.077</td>
      <td>221.659</td>
      <td>186.201</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4.0</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>217.289</td>
      <td>189.403</td>
      <td>201.362</td>
      <td>207.532</td>
      <td>207.971</td>
      <td>172.771</td>
      <td>213.854</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4.5</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>197.994</td>
      <td>194.238</td>
      <td>205.559</td>
      <td>203.195</td>
      <td>197.980</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>5.0</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>198.149</td>
      <td>196.527</td>
      <td>222.219</td>
      <td>215.221</td>
      <td>204.002</td>
      <td>254.004</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>5.5</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>249.158</td>
      <td>212.561</td>
      <td>212.734</td>
      <td>168.655</td>
      <td>208.220</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>6.0</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>182.314</td>
      <td>159.418</td>
      <td>NaN</td>
      <td>208.418</td>
      <td>241.347</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>6.5</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>164.712</td>
      <td>233.890</td>
      <td>110.517</td>
      <td>NaN</td>
      <td>207.919</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>7.0</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>155.691</td>
      <td>229.022</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>7.5</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>166.855</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>128.897</td>
      <td>198.053</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>8.0</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>230.281</td>
      <td>184.510</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>8.5</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>248.338</td>
      <td>264.534</td>
    </tr>
    <tr>
      <th>9.0</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>9.5</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>116.230</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>10.0</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>244.634</td>
    </tr>
    <tr>
      <th>10.5</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>190.849</td>
      <td>212.411</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="Calculate-MAEP">
<h2>Calculate MAEP<a class="headerlink" href="#Calculate-MAEP" title="Link to this heading"></a></h2>
<p>There are two ways to calculate the mean annual energy production (MEAP). One is from capture width and wave energy flux matrices, the other is from time-series data, as shown below.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calcaulte maep from timeseries</span>
<span class="n">maep_timeseries</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">mean_annual_energy_production_timeseries</span><span class="p">(</span><span class="n">CW</span><span class="p">,</span> <span class="n">J</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;MAEP from timeseries = &quot;</span><span class="p">,</span> <span class="n">maep_timeseries</span><span class="p">)</span>

<span class="c1"># Calcaulte maep from matrix</span>
<span class="c1"># See Issue #339</span>
<span class="c1"># maep_matrix = wave.performance.mean_annual_energy_production_matrix(</span>
<span class="c1">#     CWM_mean, JM, CWM_freq</span>
<span class="c1"># )</span>

<span class="n">T</span> <span class="o">=</span> <span class="mi">8766</span>  <span class="c1"># Average length of a year (h)</span>
<span class="n">maep_matrix</span> <span class="o">=</span> <span class="n">T</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">nansum</span><span class="p">(</span><span class="n">CWM_mean</span> <span class="o">*</span> <span class="n">JM</span> <span class="o">*</span> <span class="n">CWM_freq</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;MAEP from matrices = &quot;</span><span class="p">,</span> <span class="n">maep_matrix</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
MAEP from timeseries =  1767087.527586333
MAEP from matrices =  1781210.8652839188
</pre></div></div>
</div>
</section>
<section id="Graphics">
<h2>Graphics<a class="headerlink" href="#Graphics" title="Link to this heading"></a></h2>
<p>The graphics function <code class="docutils literal notranslate"><span class="pre">plot_matrix</span></code> can be used to visualize results. It is important to note that the plotting function assumes the step size between bins to be linear.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot the capture width mean matrix</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">graphics</span><span class="o">.</span><span class="n">plot_matrix</span><span class="p">(</span><span class="n">CWM_mean</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/wave_example_26_0.png" src="_images/wave_example_26_0.png" />
</div>
</div>
<p>The plotting function only requires the matrix as input, but the function can also take several other arguments. The list of optional arguments is: <code class="docutils literal notranslate"><span class="pre">xlabel,</span> <span class="pre">ylabel,</span> <span class="pre">zlabel,</span> <span class="pre">show_values,</span> <span class="pre">and</span> <span class="pre">ax</span></code>. The following uses these optional arguments. The matplotlib package is imported to define an axis with a larger figure size.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Customize the matrix plot</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pylab</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
<span class="n">wave</span><span class="o">.</span><span class="n">graphics</span><span class="o">.</span><span class="n">plot_matrix</span><span class="p">(</span>
    <span class="n">PM_mean</span><span class="p">,</span>
    <span class="n">xlabel</span><span class="o">=</span><span class="s2">&quot;Te (s)&quot;</span><span class="p">,</span>
    <span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;Hm0 (m)&quot;</span><span class="p">,</span>
    <span class="n">zlabel</span><span class="o">=</span><span class="s2">&quot;Mean Power (kW)&quot;</span><span class="p">,</span>
    <span class="n">show_values</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;Axes: xlabel=&#39;Te (s)&#39;, ylabel=&#39;Hm0 (m)&#39;&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/wave_example_28_1.png" src="_images/wave_example_28_1.png" />
</div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="upcrossing_example.html" class="btn btn-neutral float-left" title="MHKit Upcrossing Analysis Example" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="wecsim_example.html" class="btn btn-neutral float-right" title="MHKiT WEC-Sim Example" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, National Laboratory of the Rockies, Pacific Northwest National Laboratory, and Sandia National Laboratories.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>