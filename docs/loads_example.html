

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>MHKiT Loads Module &mdash; MHKiT v0.3.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/mhkit.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="MHKiT Environmental Contours" href="environmental_contours.html" />
    <link rel="prev" title="MHKiT Power Module" href="power_example.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> MHKiT
          

          
          </a>

          
            
            
              <div class="version">
                v0.3.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="terminology.html">Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="qc.html">QC Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="wave.html">Wave Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="river.html">River Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="tidal.html">Tidal Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="power.html">Power Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="loads.html">Loads Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utils Module</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="python.html">MHKiT-Python</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="python.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="python.html#api-documentation">API Documentation</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="python.html#examples">Examples</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="qc_example.html">MHKiT Quality Control Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="wave_example.html">MHKiT Wave Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="river_example.html">MHKiT River Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="tidal_example.html">MHKiT Tidal Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="power_example.html">MHKiT Power Module</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">MHKiT Loads Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Import-Loads-Data">Import Loads Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Loads-Analysis">Loads Analysis</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="environmental_contours.html">MHKiT Environmental Contours</a></li>
<li class="toctree-l3"><a class="reference internal" href="wecsim_example.html">MHKiT WEC-Sim Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="python.html#online-forum">Online Forum</a></li>
<li class="toctree-l2"><a class="reference internal" href="python.html#software-tests">Software Tests</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="matlab.html">MHKiT-MATLAB</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="citeus.html">Cite Us</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact.html">Online Forum</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MHKiT</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="python.html">MHKiT-Python</a> &raquo;</li>
        
      <li>MHKiT Loads Module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/loads_example.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container,
div.nbinput.container div.prompt,
div.nbinput.container div.input_area,
div.nbinput.container div[class*=highlight],
div.nbinput.container div[class*=highlight] pre,
div.nboutput.container,
div.nboutput.container div.prompt,
div.nboutput.container div.output_area,
div.nboutput.container div[class*=highlight],
div.nboutput.container div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="MHKiT-Loads-Module">
<h1>MHKiT Loads Module<a class="headerlink" href="#MHKiT-Loads-Module" title="Permalink to this headline">¶</a></h1>
<p>The following example will help familiarize you with some of the functions in the <a class="reference external" href="https://mhkit-software.github.io/MHKiT/mhkit-python/api.loads.html">MHKiT loads module</a> that you can use to assist you in your loads analysis.</p>
<p>Start by importing the necessary python packages and MHKiT module.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">mhkit</span> <span class="kn">import</span> <span class="n">utils</span>
<span class="kn">from</span> <span class="nn">mhkit</span> <span class="kn">import</span> <span class="n">loads</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
</div>
<div class="section" id="Import-Loads-Data">
<h2>Import Loads Data<a class="headerlink" href="#Import-Loads-Data" title="Permalink to this headline">¶</a></h2>
<p>This example data comes from a land based wind turbine, since there is limited availablality of loads data for MHK devices. The example uses a subset of data from a database of 331 files, each containing 10 minutes of data sampled at 50Hz.</p>
<p>As a start, lets look at the data for one of these files to figure out what formatting we need to apply. We utilize pandas to read in the csv and peek into what the data looks like.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">loads_data_file</span> <span class="o">=</span> <span class="s1">&#39;./data/loads/data_loads_example.csv&#39;</span>

<span class="c1"># Import csv data file</span>
<span class="n">raw_loads_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">loads_data_file</span><span class="p">)</span>
<span class="n">raw_loads_data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Timestamp</th>
      <th>Time</th>
      <th>uWind_80m</th>
      <th>WD_ModActive</th>
      <th>WD_Nacelle</th>
      <th>WD_NacelleMod</th>
      <th>LSSDW_Tq</th>
      <th>LSSDW_My</th>
      <th>LSSDW_Mz</th>
      <th>TTTq</th>
      <th>TT_ForeAft</th>
      <th>TT_SideSide</th>
      <th>TB_ForeAft</th>
      <th>TB_SideSide</th>
      <th>BL3_FlapMom</th>
      <th>BL3_EdgeMom</th>
      <th>BL1_FlapMom</th>
      <th>BL1_EdgeMom</th>
      <th>ActivePower</th>
      <th>yawoffset</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>42795.061586</td>
      <td>0.00</td>
      <td>3.226754</td>
      <td>1.0</td>
      <td>157.302829</td>
      <td>157.279582</td>
      <td>-41.380694</td>
      <td>-234.487436</td>
      <td>-6.207381</td>
      <td>-70.130726</td>
      <td>-936.247028</td>
      <td>-12.605151</td>
      <td>-330.410779</td>
      <td>1024.816867</td>
      <td>470.774738</td>
      <td>-165.541786</td>
      <td>33.427748</td>
      <td>-59.452360</td>
      <td>-5.279680</td>
      <td>0.023247</td>
    </tr>
    <tr>
      <th>1</th>
      <td>42795.061586</td>
      <td>0.02</td>
      <td>3.221099</td>
      <td>1.0</td>
      <td>157.302829</td>
      <td>157.279582</td>
      <td>-38.614459</td>
      <td>-233.715870</td>
      <td>-8.886200</td>
      <td>-66.916338</td>
      <td>-942.675906</td>
      <td>-24.350452</td>
      <td>-315.445562</td>
      <td>873.214212</td>
      <td>469.244736</td>
      <td>-163.588005</td>
      <td>32.697822</td>
      <td>-62.300637</td>
      <td>-5.671178</td>
      <td>0.023247</td>
    </tr>
    <tr>
      <th>2</th>
      <td>42795.061586</td>
      <td>0.04</td>
      <td>3.223492</td>
      <td>1.0</td>
      <td>157.302829</td>
      <td>157.279582</td>
      <td>-39.717967</td>
      <td>-234.341966</td>
      <td>-7.970862</td>
      <td>-67.860011</td>
      <td>-922.971018</td>
      <td>-22.485796</td>
      <td>-292.252115</td>
      <td>876.299461</td>
      <td>468.736474</td>
      <td>-166.018111</td>
      <td>35.495810</td>
      <td>-61.733604</td>
      <td>-5.551847</td>
      <td>0.023247</td>
    </tr>
    <tr>
      <th>3</th>
      <td>42795.061586</td>
      <td>0.06</td>
      <td>3.223274</td>
      <td>1.0</td>
      <td>157.302829</td>
      <td>157.279582</td>
      <td>-41.415143</td>
      <td>-235.645598</td>
      <td>-10.451794</td>
      <td>-72.371951</td>
      <td>-939.515265</td>
      <td>-33.030892</td>
      <td>-274.812769</td>
      <td>763.833828</td>
      <td>467.373452</td>
      <td>-164.645639</td>
      <td>37.952455</td>
      <td>-64.390050</td>
      <td>-4.626557</td>
      <td>0.023247</td>
    </tr>
    <tr>
      <th>4</th>
      <td>42795.061587</td>
      <td>0.08</td>
      <td>3.223927</td>
      <td>1.0</td>
      <td>157.302829</td>
      <td>157.279582</td>
      <td>-38.614459</td>
      <td>-234.755991</td>
      <td>-8.648988</td>
      <td>-76.530014</td>
      <td>-924.771486</td>
      <td>-29.228398</td>
      <td>-310.213400</td>
      <td>704.537757</td>
      <td>466.318754</td>
      <td>-161.233863</td>
      <td>37.430668</td>
      <td>-65.974766</td>
      <td>-4.708621</td>
      <td>0.023247</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="section" id="Format-Loads-Data-with-datetime-index">
<h3>Format Loads Data with datetime index<a class="headerlink" href="#Format-Loads-Data-with-datetime-index" title="Permalink to this headline">¶</a></h3>
<p>To use MHKiT it is important to index your DataFrame by datetime. The example loads data has two references to time, but neither are in the right format. The <code class="docutils literal notranslate"><span class="pre">'Timestamp'</span></code> column is what will give us the datetime index that we need, but we first need to convert it from microsoft excel format to pd.Datetime.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Use the datetime conversion from the utils module</span>
<span class="n">datetime</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">excel_to_datetime</span><span class="p">(</span><span class="n">raw_loads_data</span><span class="p">[</span><span class="s1">&#39;Timestamp&#39;</span><span class="p">])</span>

<span class="c1"># Replace the &#39;Timestamp&#39; column with our newly formatted datetime</span>
<span class="n">raw_loads_data</span><span class="p">[</span><span class="s1">&#39;Timestamp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datetime</span>

<span class="c1"># Set this as our index for our DataFrame</span>
<span class="n">loads_data</span> <span class="o">=</span> <span class="n">raw_loads_data</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Timestamp&#39;</span><span class="p">)</span>

<span class="c1"># Remove the &#39;time&#39; column since it will not be used</span>
<span class="n">loads_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">&#39;Time&#39;</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">loads_data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>uWind_80m</th>
      <th>WD_ModActive</th>
      <th>WD_Nacelle</th>
      <th>WD_NacelleMod</th>
      <th>LSSDW_Tq</th>
      <th>LSSDW_My</th>
      <th>LSSDW_Mz</th>
      <th>TTTq</th>
      <th>TT_ForeAft</th>
      <th>TT_SideSide</th>
      <th>TB_ForeAft</th>
      <th>TB_SideSide</th>
      <th>BL3_FlapMom</th>
      <th>BL3_EdgeMom</th>
      <th>BL1_FlapMom</th>
      <th>BL1_EdgeMom</th>
      <th>ActivePower</th>
      <th>yawoffset</th>
    </tr>
    <tr>
      <th>Timestamp</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2017-03-01 01:28:40.999987200</th>
      <td>3.226754</td>
      <td>1.0</td>
      <td>157.302829</td>
      <td>157.279582</td>
      <td>-41.380694</td>
      <td>-234.487436</td>
      <td>-6.207381</td>
      <td>-70.130726</td>
      <td>-936.247028</td>
      <td>-12.605151</td>
      <td>-330.410779</td>
      <td>1024.816867</td>
      <td>470.774738</td>
      <td>-165.541786</td>
      <td>33.427748</td>
      <td>-59.452360</td>
      <td>-5.279680</td>
      <td>0.023247</td>
    </tr>
    <tr>
      <th>2017-03-01 01:28:41.020032000</th>
      <td>3.221099</td>
      <td>1.0</td>
      <td>157.302829</td>
      <td>157.279582</td>
      <td>-38.614459</td>
      <td>-233.715870</td>
      <td>-8.886200</td>
      <td>-66.916338</td>
      <td>-942.675906</td>
      <td>-24.350452</td>
      <td>-315.445562</td>
      <td>873.214212</td>
      <td>469.244736</td>
      <td>-163.588005</td>
      <td>32.697822</td>
      <td>-62.300637</td>
      <td>-5.671178</td>
      <td>0.023247</td>
    </tr>
    <tr>
      <th>2017-03-01 01:28:41.039990400</th>
      <td>3.223492</td>
      <td>1.0</td>
      <td>157.302829</td>
      <td>157.279582</td>
      <td>-39.717967</td>
      <td>-234.341966</td>
      <td>-7.970862</td>
      <td>-67.860011</td>
      <td>-922.971018</td>
      <td>-22.485796</td>
      <td>-292.252115</td>
      <td>876.299461</td>
      <td>468.736474</td>
      <td>-166.018111</td>
      <td>35.495810</td>
      <td>-61.733604</td>
      <td>-5.551847</td>
      <td>0.023247</td>
    </tr>
    <tr>
      <th>2017-03-01 01:28:41.060035200</th>
      <td>3.223274</td>
      <td>1.0</td>
      <td>157.302829</td>
      <td>157.279582</td>
      <td>-41.415143</td>
      <td>-235.645598</td>
      <td>-10.451794</td>
      <td>-72.371951</td>
      <td>-939.515265</td>
      <td>-33.030892</td>
      <td>-274.812769</td>
      <td>763.833828</td>
      <td>467.373452</td>
      <td>-164.645639</td>
      <td>37.952455</td>
      <td>-64.390050</td>
      <td>-4.626557</td>
      <td>0.023247</td>
    </tr>
    <tr>
      <th>2017-03-01 01:28:41.079993600</th>
      <td>3.223927</td>
      <td>1.0</td>
      <td>157.302829</td>
      <td>157.279582</td>
      <td>-38.614459</td>
      <td>-234.755991</td>
      <td>-8.648988</td>
      <td>-76.530014</td>
      <td>-924.771486</td>
      <td>-29.228398</td>
      <td>-310.213400</td>
      <td>704.537757</td>
      <td>466.318754</td>
      <td>-161.233863</td>
      <td>37.430668</td>
      <td>-65.974766</td>
      <td>-4.708621</td>
      <td>0.023247</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
</div>
<div class="section" id="Loads-Analysis">
<h2>Loads Analysis<a class="headerlink" href="#Loads-Analysis" title="Permalink to this headline">¶</a></h2>
<p>Now that we have our loads data in the correct format for MHKiT, we do some analysis.</p>
<div class="section" id="Damage-Equivalent-Loads">
<h3>Damage Equivalent Loads<a class="headerlink" href="#Damage-Equivalent-Loads" title="Permalink to this headline">¶</a></h3>
<p>Lets say that we wanted to investigate fatigue. We can do this by calculating short-term damage equivalent loads (DELs). In this instance, we calculate the DELs on the tower base moment <code class="docutils literal notranslate"><span class="pre">'TB_ForeAft'</span></code>, and on blade 1 root flap moment <code class="docutils literal notranslate"><span class="pre">'BL1_FlapMom'</span></code>. Our tower is steel while our blade is composite so they will have different material slopes. We will run the function <code class="docutils literal notranslate"><span class="pre">damage_equivalent_load</span></code> on each data signal.</p>
<p>We call our function and apply the default inputs of using at least 100 bins for the load ranges and we let data_length=600 seconds so that we get an equivalent 1Hz DEL for our 10 minute file.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Calculate the damage equivalent load for blade 1 root momement and tower base moment</span>
<span class="n">DEL_tower</span> <span class="o">=</span> <span class="n">loads</span><span class="o">.</span><span class="n">general</span><span class="o">.</span><span class="n">damage_equivalent_load</span><span class="p">(</span><span class="n">loads_data</span><span class="p">[</span><span class="s1">&#39;TB_ForeAft&#39;</span><span class="p">],</span><span class="mi">4</span><span class="p">,</span>
                                         <span class="n">bin_num</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span><span class="n">data_length</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
<span class="n">DEL_blade</span> <span class="o">=</span> <span class="n">loads</span><span class="o">.</span><span class="n">general</span><span class="o">.</span><span class="n">damage_equivalent_load</span><span class="p">(</span><span class="n">loads_data</span><span class="p">[</span><span class="s1">&#39;BL1_FlapMom&#39;</span><span class="p">],</span><span class="mi">10</span><span class="p">,</span>
                                         <span class="n">bin_num</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span><span class="n">data_length</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;DEL TB_ForeAft: &#39;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">DEL_tower</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;DEL BL1_FlapMom: &#39;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">DEL_blade</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
DEL TB_ForeAft: 3912.6390862773
DEL BL1_FlapMom: 1435.8222478714554
</pre></div></div>
</div>
</div>
<div class="section" id="Calculate-Statistics">
<h3>Calculate Statistics<a class="headerlink" href="#Calculate-Statistics" title="Permalink to this headline">¶</a></h3>
<p>Another important part of loads analysis is looking at statistics. Here, we use another function to help us calculate the mean, max, min, and std for this 10 minute file. Per standards, a valid statistical window has to be consecutive in time with the correct number of datapoints. If this 10 minute file did meet this criteria, then no stats would be generated and a warning message would appear.</p>
<p>NOTE: Sometimes individual files may contain enough data for multiple statistical windows. This function can still handle this scenario as long as the correct inputs are specified.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Calculate the means, maxs, mins, and stdevs for all data signals in the loads data file</span>
<span class="n">means</span><span class="p">,</span><span class="n">maxs</span><span class="p">,</span><span class="n">mins</span><span class="p">,</span><span class="n">stdevs</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">get_statistics</span><span class="p">(</span><span class="n">loads_data</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="n">period</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>

<span class="c1"># Display the results, indexed by the first timestamp of the corresponding statistical window</span>
<span class="n">means</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>uWind_80m</th>
      <th>WD_ModActive</th>
      <th>WD_Nacelle</th>
      <th>WD_NacelleMod</th>
      <th>LSSDW_Tq</th>
      <th>LSSDW_My</th>
      <th>LSSDW_Mz</th>
      <th>TTTq</th>
      <th>TT_ForeAft</th>
      <th>TT_SideSide</th>
      <th>TB_ForeAft</th>
      <th>TB_SideSide</th>
      <th>BL3_FlapMom</th>
      <th>BL3_EdgeMom</th>
      <th>BL1_FlapMom</th>
      <th>BL1_EdgeMom</th>
      <th>ActivePower</th>
      <th>yawoffset</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2017-03-01 01:28:41</th>
      <td>7.773325</td>
      <td>1.0</td>
      <td>178.612256</td>
      <td>178.602595</td>
      <td>127.244191</td>
      <td>-252.23813</td>
      <td>3.50322</td>
      <td>7.032573</td>
      <td>-846.663367</td>
      <td>271.446574</td>
      <td>3785.034515</td>
      <td>7.199176</td>
      <td>-494.858287</td>
      <td>266.790368</td>
      <td>-452.652744</td>
      <td>21.259999</td>
      <td>234.578289</td>
      <td>0.009661</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>At this point, it would be nice to start visualizing some of this data. In order to do this, we need to calculate the stats and DELs for all the files in our database. In this case, it would be done through a loop that imports each file and applies all the functions we just saw. At the end of the loop, we store the result by appending to a list (this is computationally more efficient than concatenating dataframes). Finally, we can convert our lists to dataframes so that its easier to play with
the data. To speed things up, this was already done so we just need to import the resulting dataframes.</p>
<p>As a reference, an example code block is shown of how to create a loop that calculates all the means for each file which are then stored into a dataframe.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># pre-allocate lists for storage</span>
<span class="n">means</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">time</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># start loop</span>
<span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">pathOut</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.csv&#39;</span><span class="p">):</span>
        <span class="c1"># import csv file</span>
        <span class="n">raw_loads_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">pathOut</span><span class="o">+</span><span class="s1">&#39;/&#39;</span><span class="o">+</span><span class="n">f</span><span class="p">)</span>
        <span class="c1"># replace the timestamp column with formatted datetime</span>
        <span class="n">datetime</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">excel_to_datetime</span><span class="p">(</span><span class="n">raw_loads_data</span><span class="p">[</span><span class="s1">&#39;Timestamp&#39;</span><span class="p">])</span>
        <span class="n">raw_loads_data</span><span class="p">[</span><span class="s1">&#39;Timestamp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datetime</span>
        <span class="c1"># set this as our index for our dataframe</span>
        <span class="n">loads_data</span> <span class="o">=</span> <span class="n">raw_loads_data</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Timestamp&#39;</span><span class="p">)</span>
        <span class="c1"># remove the &quot;time&quot; column as its unnecessary</span>
        <span class="n">loads_data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">&#39;Time&#39;</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="c1"># get stats</span>
        <span class="n">fmean</span><span class="p">,</span> <span class="n">fmax</span><span class="p">,</span> <span class="n">fmin</span><span class="p">,</span> <span class="n">fstd</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">get_statistics</span><span class="p">(</span><span class="n">loads_data</span><span class="p">,</span><span class="n">freq</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span><span class="n">period</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
        <span class="n">means</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fmean</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>
        <span class="n">time</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fmean</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>

<span class="c1"># convert lists into a dataframe</span>
<span class="n">loads_means</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(</span><span class="n">means</span><span class="p">),</span><span class="n">columns</span><span class="o">=</span><span class="n">loads_data</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="n">time</span><span class="p">)</span>
</pre></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Load DataFrames containing load statistics</span>
<span class="n">means</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;./data/loads/data_loads_means.csv&#39;</span><span class="p">)</span>
<span class="n">maxs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;./data/loads/data_loads_maxs.csv&#39;</span><span class="p">)</span>
<span class="n">mins</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;./data/loads/data_loads_mins.csv&#39;</span><span class="p">)</span>
<span class="n">std</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;./data/loads/data_loads_std.csv&#39;</span><span class="p">)</span>

<span class="n">means</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>uWind_80m</th>
      <th>WD_ModActive</th>
      <th>WD_Nacelle</th>
      <th>WD_NacelleMod</th>
      <th>LSSDW_Tq</th>
      <th>LSSDW_My</th>
      <th>LSSDW_Mz</th>
      <th>TTTq</th>
      <th>TT_ForeAft</th>
      <th>TT_SideSide</th>
      <th>TB_ForeAft</th>
      <th>TB_SideSide</th>
      <th>BL3_FlapMom</th>
      <th>BL3_EdgeMom</th>
      <th>BL1_FlapMom</th>
      <th>BL1_EdgeMom</th>
      <th>ActivePower</th>
      <th>yawoffset</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>7.773325</td>
      <td>1.0</td>
      <td>178.612256</td>
      <td>178.602595</td>
      <td>127.244191</td>
      <td>-252.238130</td>
      <td>3.503220</td>
      <td>7.032573</td>
      <td>-846.663367</td>
      <td>271.446574</td>
      <td>3785.034515</td>
      <td>7.199176</td>
      <td>-494.858288</td>
      <td>266.790368</td>
      <td>-452.652743</td>
      <td>21.259999</td>
      <td>234.578289</td>
      <td>0.009661</td>
    </tr>
    <tr>
      <th>1</th>
      <td>4.294855</td>
      <td>1.0</td>
      <td>171.095503</td>
      <td>171.104399</td>
      <td>6.705063</td>
      <td>-242.954279</td>
      <td>8.781801</td>
      <td>13.574055</td>
      <td>-1005.504041</td>
      <td>210.432881</td>
      <td>504.631955</td>
      <td>-63.459058</td>
      <td>-123.664013</td>
      <td>179.906995</td>
      <td>-95.184346</td>
      <td>-44.686204</td>
      <td>32.156167</td>
      <td>-0.008896</td>
    </tr>
    <tr>
      <th>2</th>
      <td>5.210606</td>
      <td>1.0</td>
      <td>168.688106</td>
      <td>168.680758</td>
      <td>51.782698</td>
      <td>-224.455118</td>
      <td>15.310279</td>
      <td>-53.986054</td>
      <td>-926.132830</td>
      <td>138.439249</td>
      <td>1992.287971</td>
      <td>-42.414665</td>
      <td>-314.992337</td>
      <td>228.895991</td>
      <td>-270.323145</td>
      <td>-5.000843</td>
      <td>87.337237</td>
      <td>0.007348</td>
    </tr>
    <tr>
      <th>3</th>
      <td>14.210652</td>
      <td>1.0</td>
      <td>182.695493</td>
      <td>182.688322</td>
      <td>386.484523</td>
      <td>-218.151791</td>
      <td>13.457946</td>
      <td>-39.223265</td>
      <td>-568.024026</td>
      <td>515.128540</td>
      <td>7075.518787</td>
      <td>649.320139</td>
      <td>-689.885628</td>
      <td>301.399047</td>
      <td>-718.343755</td>
      <td>77.781426</td>
      <td>692.061262</td>
      <td>0.007171</td>
    </tr>
    <tr>
      <th>4</th>
      <td>10.558234</td>
      <td>1.0</td>
      <td>182.443087</td>
      <td>182.426475</td>
      <td>561.122866</td>
      <td>-228.167278</td>
      <td>-30.095950</td>
      <td>-51.686133</td>
      <td>-347.327549</td>
      <td>621.974202</td>
      <td>10992.154570</td>
      <td>598.674976</td>
      <td>-1089.599789</td>
      <td>374.679600</td>
      <td>-1151.084828</td>
      <td>138.214755</td>
      <td>997.975514</td>
      <td>0.016613</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="Plot-Statistics">
<h3>Plot Statistics<a class="headerlink" href="#Plot-Statistics" title="Permalink to this headline">¶</a></h3>
<p>Now that we have the load statistics, lets display the data as scatter plot. Using the <code class="docutils literal notranslate"><span class="pre">plot_statistics</span></code> function, we can quickly create a standard scatter plot showing how load variables trend with wind speed. Using this we can quickly identify expected trends and track down outliers.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">loads</span><span class="o">.</span><span class="n">graphics</span><span class="o">.</span><span class="n">plot_statistics</span><span class="p">(</span><span class="n">means</span><span class="p">[</span><span class="s1">&#39;uWind_80m&#39;</span><span class="p">],</span>
                      <span class="n">means</span><span class="p">[</span><span class="s1">&#39;BL1_FlapMom&#39;</span><span class="p">],</span>
                      <span class="n">maxs</span><span class="p">[</span><span class="s1">&#39;BL1_FlapMom&#39;</span><span class="p">],</span>
                      <span class="n">mins</span><span class="p">[</span><span class="s1">&#39;BL1_FlapMom&#39;</span><span class="p">],</span>
                      <span class="n">y_stdev</span><span class="o">=</span><span class="n">std</span><span class="p">[</span><span class="s1">&#39;BL1_FlapMom&#39;</span><span class="p">],</span>
                      <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Wind Speed [m/s]&#39;</span><span class="p">,</span>
                      <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;Blade Flap Moment [kNm]&#39;</span><span class="p">,</span>
                      <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Blade Flap Moment Load Statistics&#39;</span><span class="p">)</span>

<span class="n">loads</span><span class="o">.</span><span class="n">graphics</span><span class="o">.</span><span class="n">plot_statistics</span><span class="p">(</span><span class="n">means</span><span class="p">[</span><span class="s1">&#39;uWind_80m&#39;</span><span class="p">],</span>
                      <span class="n">means</span><span class="p">[</span><span class="s1">&#39;TB_ForeAft&#39;</span><span class="p">],</span>
                      <span class="n">maxs</span><span class="p">[</span><span class="s1">&#39;TB_ForeAft&#39;</span><span class="p">],</span>
                      <span class="n">mins</span><span class="p">[</span><span class="s1">&#39;TB_ForeAft&#39;</span><span class="p">],</span>
                      <span class="n">y_stdev</span><span class="o">=</span><span class="n">std</span><span class="p">[</span><span class="s1">&#39;TB_ForeAft&#39;</span><span class="p">],</span>
                      <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Wind Speed [m/s]&#39;</span><span class="p">,</span>
                      <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;Tower Base Moment [kNm]&#39;</span><span class="p">,</span>
                      <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Tower Base Moment Load Statistics&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/loads_example_13_0.png" src="_images/loads_example_13_0.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/loads_example_13_1.png" src="_images/loads_example_13_1.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.axes._subplots.AxesSubplot at 0x12203e96370&gt;
</pre></div></div>
</div>
<p>Another common step is to bin the statistical data. This can easily be done with the bin_stats function from the loads module shown below. A warning message will show if there are any bins that were not filled.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Create array containing wind speeds to use as bin edges</span>
<span class="n">bin_edges</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">26</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">bin_against</span> <span class="o">=</span> <span class="n">means</span><span class="p">[</span><span class="s1">&#39;uWind_80m&#39;</span><span class="p">]</span>

<span class="c1"># Apply function for means, maxs, and mins</span>
<span class="p">[</span><span class="n">bin_means</span><span class="p">,</span> <span class="n">bin_means_std</span><span class="p">]</span> <span class="o">=</span> <span class="n">loads</span><span class="o">.</span><span class="n">general</span><span class="o">.</span><span class="n">bin_statistics</span><span class="p">(</span><span class="n">means</span><span class="p">,</span><span class="n">bin_against</span><span class="p">,</span><span class="n">bin_edges</span><span class="p">)</span>
<span class="p">[</span><span class="n">bin_maxs</span><span class="p">,</span> <span class="n">bin_maxs_std</span><span class="p">]</span> <span class="o">=</span> <span class="n">loads</span><span class="o">.</span><span class="n">general</span><span class="o">.</span><span class="n">bin_statistics</span><span class="p">(</span><span class="n">maxs</span><span class="p">,</span><span class="n">bin_against</span><span class="p">,</span><span class="n">bin_edges</span><span class="p">)</span>
<span class="p">[</span><span class="n">bin_mins</span><span class="p">,</span> <span class="n">bin_mins_std</span><span class="p">]</span> <span class="o">=</span> <span class="n">loads</span><span class="o">.</span><span class="n">general</span><span class="o">.</span><span class="n">bin_statistics</span><span class="p">(</span><span class="n">mins</span><span class="p">,</span><span class="n">bin_against</span><span class="p">,</span><span class="n">bin_edges</span><span class="p">)</span>

<span class="n">bin_means</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Warning: some bins may be empty!
Warning: some bins may be empty!
Warning: some bins may be empty!
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>uWind_80m</th>
      <th>WD_ModActive</th>
      <th>WD_Nacelle</th>
      <th>WD_NacelleMod</th>
      <th>LSSDW_Tq</th>
      <th>LSSDW_My</th>
      <th>LSSDW_Mz</th>
      <th>TTTq</th>
      <th>TT_ForeAft</th>
      <th>TT_SideSide</th>
      <th>TB_ForeAft</th>
      <th>TB_SideSide</th>
      <th>BL3_FlapMom</th>
      <th>BL3_EdgeMom</th>
      <th>BL1_FlapMom</th>
      <th>BL1_EdgeMom</th>
      <th>ActivePower</th>
      <th>yawoffset</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>3.582788</td>
      <td>1.000000</td>
      <td>179.116583</td>
      <td>179.215605</td>
      <td>29.890756</td>
      <td>-252.235192</td>
      <td>-2.931479</td>
      <td>-26.271654</td>
      <td>-932.953738</td>
      <td>126.807011</td>
      <td>994.638671</td>
      <td>-102.050137</td>
      <td>-206.591291</td>
      <td>129.390923</td>
      <td>-238.085263</td>
      <td>-14.874877</td>
      <td>21.370858</td>
      <td>-0.099022</td>
    </tr>
    <tr>
      <th>1</th>
      <td>4.498995</td>
      <td>1.000000</td>
      <td>178.968041</td>
      <td>178.963826</td>
      <td>77.559257</td>
      <td>-248.081262</td>
      <td>-3.389182</td>
      <td>-51.890684</td>
      <td>-856.012087</td>
      <td>154.470046</td>
      <td>2235.672810</td>
      <td>55.864708</td>
      <td>-327.707803</td>
      <td>162.318746</td>
      <td>-354.474414</td>
      <td>-7.655706</td>
      <td>76.033527</td>
      <td>0.004216</td>
    </tr>
    <tr>
      <th>2</th>
      <td>5.525786</td>
      <td>0.980392</td>
      <td>180.016225</td>
      <td>179.996997</td>
      <td>171.459516</td>
      <td>-230.697510</td>
      <td>-2.588070</td>
      <td>-50.333653</td>
      <td>-761.047719</td>
      <td>213.700239</td>
      <td>3822.643018</td>
      <td>137.424215</td>
      <td>-495.457116</td>
      <td>191.503291</td>
      <td>-599.658658</td>
      <td>1436.266991</td>
      <td>167.928433</td>
      <td>0.019228</td>
    </tr>
    <tr>
      <th>3</th>
      <td>6.520641</td>
      <td>0.970588</td>
      <td>180.835469</td>
      <td>180.788600</td>
      <td>219.138550</td>
      <td>-237.979417</td>
      <td>-5.688640</td>
      <td>-42.827109</td>
      <td>-647.310249</td>
      <td>302.591017</td>
      <td>6122.425105</td>
      <td>192.772384</td>
      <td>-708.321569</td>
      <td>237.072176</td>
      <td>-777.545681</td>
      <td>599.754365</td>
      <td>317.629187</td>
      <td>0.046869</td>
    </tr>
    <tr>
      <th>4</th>
      <td>7.534458</td>
      <td>1.000000</td>
      <td>181.373937</td>
      <td>181.474371</td>
      <td>285.072650</td>
      <td>-240.838000</td>
      <td>-8.602511</td>
      <td>-56.222891</td>
      <td>-571.093365</td>
      <td>376.755167</td>
      <td>7551.899048</td>
      <td>296.723677</td>
      <td>-861.049383</td>
      <td>252.077699</td>
      <td>-874.336546</td>
      <td>88.957621</td>
      <td>454.388684</td>
      <td>-0.100434</td>
    </tr>
    <tr>
      <th>5</th>
      <td>8.483451</td>
      <td>0.966667</td>
      <td>180.006753</td>
      <td>180.002341</td>
      <td>405.504595</td>
      <td>-233.796744</td>
      <td>-7.596248</td>
      <td>-32.233513</td>
      <td>-430.681550</td>
      <td>502.070942</td>
      <td>9938.523640</td>
      <td>335.667789</td>
      <td>-1073.556266</td>
      <td>313.335072</td>
      <td>-1167.966930</td>
      <td>1302.506123</td>
      <td>679.886822</td>
      <td>0.004413</td>
    </tr>
    <tr>
      <th>6</th>
      <td>9.635533</td>
      <td>0.880000</td>
      <td>178.894596</td>
      <td>178.885289</td>
      <td>581.709245</td>
      <td>-218.693601</td>
      <td>-8.801577</td>
      <td>-72.657764</td>
      <td>-330.525678</td>
      <td>668.243228</td>
      <td>11477.966048</td>
      <td>588.384954</td>
      <td>-1209.842191</td>
      <td>342.343342</td>
      <td>-1526.574097</td>
      <td>4686.436750</td>
      <td>942.635185</td>
      <td>0.009307</td>
    </tr>
    <tr>
      <th>7</th>
      <td>10.552790</td>
      <td>0.892857</td>
      <td>179.473587</td>
      <td>179.487138</td>
      <td>653.097969</td>
      <td>-224.998487</td>
      <td>-5.756869</td>
      <td>-62.714160</td>
      <td>-283.620699</td>
      <td>750.186980</td>
      <td>12002.102796</td>
      <td>740.834502</td>
      <td>-1234.723513</td>
      <td>354.710593</td>
      <td>-1380.119025</td>
      <td>2065.459821</td>
      <td>1101.930764</td>
      <td>-0.013551</td>
    </tr>
    <tr>
      <th>8</th>
      <td>11.431282</td>
      <td>0.814807</td>
      <td>179.157452</td>
      <td>179.173400</td>
      <td>738.418861</td>
      <td>-209.685631</td>
      <td>-1.320960</td>
      <td>-22.419344</td>
      <td>-295.116952</td>
      <td>874.826602</td>
      <td>12237.843754</td>
      <td>668.581523</td>
      <td>-1248.802900</td>
      <td>362.942457</td>
      <td>-1291.630102</td>
      <td>173.010056</td>
      <td>1251.222715</td>
      <td>-0.015947</td>
    </tr>
    <tr>
      <th>9</th>
      <td>12.447532</td>
      <td>0.888889</td>
      <td>178.668483</td>
      <td>178.658239</td>
      <td>791.696059</td>
      <td>-188.741923</td>
      <td>-2.588168</td>
      <td>-29.769987</td>
      <td>-291.021580</td>
      <td>902.150404</td>
      <td>11648.909089</td>
      <td>743.454123</td>
      <td>-1173.606189</td>
      <td>328.218911</td>
      <td>-1262.103186</td>
      <td>738.232546</td>
      <td>1316.246001</td>
      <td>0.010243</td>
    </tr>
    <tr>
      <th>10</th>
      <td>13.406650</td>
      <td>0.833333</td>
      <td>180.438968</td>
      <td>180.452124</td>
      <td>817.388823</td>
      <td>-198.989294</td>
      <td>-7.197755</td>
      <td>-24.899471</td>
      <td>-331.564307</td>
      <td>992.711011</td>
      <td>10733.428547</td>
      <td>791.711119</td>
      <td>-1074.877395</td>
      <td>300.227189</td>
      <td>-1114.404530</td>
      <td>121.228715</td>
      <td>1384.312354</td>
      <td>-0.013155</td>
    </tr>
    <tr>
      <th>11</th>
      <td>14.348479</td>
      <td>0.542676</td>
      <td>179.354862</td>
      <td>179.346215</td>
      <td>875.198293</td>
      <td>-59.267478</td>
      <td>-1.437998</td>
      <td>4.153358</td>
      <td>-374.601981</td>
      <td>907.552054</td>
      <td>9896.827494</td>
      <td>677.680004</td>
      <td>-971.840066</td>
      <td>285.582399</td>
      <td>-1036.798595</td>
      <td>102.258425</td>
      <td>1350.838415</td>
      <td>0.008648</td>
    </tr>
    <tr>
      <th>12</th>
      <td>15.579021</td>
      <td>0.833333</td>
      <td>178.013520</td>
      <td>178.001359</td>
      <td>880.603457</td>
      <td>-164.536103</td>
      <td>-1.851375</td>
      <td>-26.848873</td>
      <td>-330.960964</td>
      <td>1059.024803</td>
      <td>9234.857465</td>
      <td>926.368719</td>
      <td>-899.553762</td>
      <td>227.524012</td>
      <td>-923.851217</td>
      <td>74.708350</td>
      <td>1491.638595</td>
      <td>0.012160</td>
    </tr>
    <tr>
      <th>13</th>
      <td>16.400735</td>
      <td>1.000000</td>
      <td>178.314956</td>
      <td>178.311169</td>
      <td>866.227371</td>
      <td>-185.673240</td>
      <td>-12.999453</td>
      <td>-78.397677</td>
      <td>-287.228505</td>
      <td>1071.363839</td>
      <td>8983.182063</td>
      <td>984.403585</td>
      <td>-860.376373</td>
      <td>200.755492</td>
      <td>-864.637118</td>
      <td>53.896186</td>
      <td>1499.435045</td>
      <td>0.003787</td>
    </tr>
    <tr>
      <th>14</th>
      <td>17.602406</td>
      <td>1.000000</td>
      <td>179.171230</td>
      <td>179.157532</td>
      <td>886.425220</td>
      <td>-137.146930</td>
      <td>-8.231045</td>
      <td>-3.156350</td>
      <td>-383.416299</td>
      <td>1063.362197</td>
      <td>8563.213120</td>
      <td>873.449181</td>
      <td>-762.282362</td>
      <td>225.211156</td>
      <td>-810.106716</td>
      <td>48.225543</td>
      <td>1476.244726</td>
      <td>0.013698</td>
    </tr>
    <tr>
      <th>15</th>
      <td>18.982808</td>
      <td>1.000000</td>
      <td>179.199942</td>
      <td>179.421965</td>
      <td>863.882390</td>
      <td>-158.281553</td>
      <td>-23.757701</td>
      <td>-74.334173</td>
      <td>-270.882688</td>
      <td>1056.399578</td>
      <td>8206.587839</td>
      <td>1349.955119</td>
      <td>-699.125685</td>
      <td>205.630765</td>
      <td>-703.231687</td>
      <td>14.362069</td>
      <td>1514.168487</td>
      <td>-0.222023</td>
    </tr>
    <tr>
      <th>16</th>
      <td>19.519921</td>
      <td>1.000000</td>
      <td>178.361870</td>
      <td>178.356581</td>
      <td>881.739431</td>
      <td>-169.696939</td>
      <td>1.018761</td>
      <td>-61.347061</td>
      <td>-284.548611</td>
      <td>1113.928290</td>
      <td>7807.792946</td>
      <td>981.873207</td>
      <td>-695.129807</td>
      <td>151.699529</td>
      <td>-709.755338</td>
      <td>20.152316</td>
      <td>1514.549099</td>
      <td>0.005289</td>
    </tr>
    <tr>
      <th>17</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>18</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>19</th>
      <td>22.062534</td>
      <td>1.000000</td>
      <td>178.524018</td>
      <td>178.507149</td>
      <td>854.648338</td>
      <td>-142.928299</td>
      <td>-43.759922</td>
      <td>-111.305482</td>
      <td>-262.456906</td>
      <td>1067.274340</td>
      <td>7566.500039</td>
      <td>1369.827084</td>
      <td>-572.629544</td>
      <td>186.356598</td>
      <td>-575.251752</td>
      <td>4.025634</td>
      <td>1500.616164</td>
      <td>0.016870</td>
    </tr>
    <tr>
      <th>20</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>21</th>
      <td>24.759699</td>
      <td>1.000000</td>
      <td>179.912515</td>
      <td>179.904301</td>
      <td>334.771556</td>
      <td>-206.441986</td>
      <td>-11.694631</td>
      <td>-32.524912</td>
      <td>-679.532690</td>
      <td>492.819279</td>
      <td>3419.356234</td>
      <td>752.087159</td>
      <td>-226.330646</td>
      <td>137.392161</td>
      <td>-187.876792</td>
      <td>-33.225278</td>
      <td>615.054202</td>
      <td>0.008214</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>Now lets make some more plots with the binned data. Here we use the binned data and corresponding standard deviations as inputs to the plot_bin_statistics function.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Specify center of each wind speed bin, and signal name for analysis</span>
<span class="n">bin_centers</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">3.5</span><span class="p">,</span><span class="mf">25.5</span><span class="p">,</span><span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">signal_name</span> <span class="o">=</span> <span class="s1">&#39;TB_ForeAft&#39;</span>

<span class="c1"># Specify inputs to be used in plotting</span>
<span class="n">bin_mean</span> <span class="o">=</span> <span class="n">bin_means</span><span class="p">[</span><span class="n">signal_name</span><span class="p">]</span>
<span class="n">bin_max</span> <span class="o">=</span> <span class="n">bin_maxs</span><span class="p">[</span><span class="n">signal_name</span><span class="p">]</span>
<span class="n">bin_min</span> <span class="o">=</span> <span class="n">bin_mins</span><span class="p">[</span><span class="n">signal_name</span><span class="p">]</span>
<span class="n">bin_mean_std</span> <span class="o">=</span> <span class="n">bin_means_std</span><span class="p">[</span><span class="n">signal_name</span><span class="p">]</span>
<span class="n">bin_max_std</span> <span class="o">=</span> <span class="n">bin_maxs_std</span><span class="p">[</span><span class="n">signal_name</span><span class="p">]</span>
<span class="n">bin_min_std</span> <span class="o">=</span> <span class="n">bin_mins_std</span><span class="p">[</span><span class="n">signal_name</span><span class="p">]</span>

<span class="c1"># Plot binned statistics</span>
<span class="n">loads</span><span class="o">.</span><span class="n">graphics</span><span class="o">.</span><span class="n">plot_bin_statistics</span><span class="p">(</span><span class="n">bin_centers</span><span class="p">,</span><span class="n">bin_mean</span><span class="p">,</span><span class="n">bin_max</span><span class="p">,</span><span class="n">bin_min</span><span class="p">,</span>
                          <span class="n">bin_mean_std</span><span class="p">,</span><span class="n">bin_max_std</span><span class="p">,</span><span class="n">bin_min_std</span><span class="p">,</span>
                          <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Wind Speed [m/s]&#39;</span><span class="p">,</span>
                          <span class="n">ylabel</span><span class="o">=</span><span class="n">signal_name</span><span class="p">,</span>
                          <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Binned Statistics&#39;</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/loads_example_17_0.png" src="_images/loads_example_17_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.axes._subplots.AxesSubplot at 0x12203f26040&gt;
</pre></div></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="environmental_contours.html" class="btn btn-neutral float-right" title="MHKiT Environmental Contours" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="power_example.html" class="btn btn-neutral float-left" title="MHKiT Power Module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2019, National Renewable Energy Laboratory, Pacific Northwest National Laboratory, and Sandia National Laboratories

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-164358105-1', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>