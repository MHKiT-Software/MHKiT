<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>QC Module &mdash; MHKiT v0.8.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/css/mhkit.css" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=b3dab91b"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Wave Module" href="api.wave.html" />
    <link rel="prev" title="MHKiT-MATLAB" href="../matlab.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            MHKiT
          </a>
              <div class="version">
                v0.8.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">MHKiT-Python Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../matlab_installation.html">MHKiT-MATLAB Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples_overview.html">MHKiT Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../qc.html">QC Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wave.html">Wave Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../river.html">River Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tidal.html">Tidal Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../power.html">Power Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../loads.html">Loads Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dolfyn.html">DOLfYN Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mooring.html">Mooring Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils.html">Utils Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python.html">MHKiT-Python</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../matlab.html">MHKiT-MATLAB</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../matlab.html#installation">Installation</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../matlab.html#api-documentation">API Documentation</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">QC Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.wave.html">Wave Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.river.html">River Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.tidal.html">Tidal Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.power.html">Power Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.loads.html">Loads Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.utils.html">Utils Module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../matlab.html#examples">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../matlab.html#online-forum">Online Forum</a></li>
<li class="toctree-l2"><a class="reference internal" href="../matlab.html#software-tests">Software Tests</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../terminology.html">Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webinars.html">Webinars</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citeus.html">Cite Us</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contact.html">Online Forum</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MHKiT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../matlab.html">MHKiT-MATLAB</a></li>
      <li class="breadcrumb-item active">QC Module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/mhkit-matlab/api.qc.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="qc-module">
<span id="qc-api-matlab"></span><h1>QC Module<a class="headerlink" href="#qc-module" title="Link to this heading"></a></h1>
<p>The QC module includes quality control functions from Pecos, see <a class="reference external" href="https://pecos.readthedocs.io">https://pecos.readthedocs.io</a> for more details.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Functions</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">check_corrupt</span></code></p></td>
<td><p>Check for corrupt data</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">check_delta</span></code></p></td>
<td><p>Check for stagant data and/or abrupt changes in the data using the difference between max and min values within a rolling window</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">check_increment</span></code></p></td>
<td><p>Check data increments using the difference between values</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">check_missing</span></code></p></td>
<td><p>Check for missing data</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">check_outlier</span></code></p></td>
<td><p>Check for outliers using normalized data within a rolling window</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">check_range</span></code></p></td>
<td><p>Check for data outside the expected range</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">check_timestamp</span></code></p></td>
<td><p>Check time series for missing, non-monotonic, and duplicate timestamps</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">qc_data_to_dataframe</span></code></p></td>
<td><p>Convert qc data structure to pandas dataframe</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The names of the functions below are of the convention <code class="docutils literal notranslate"><span class="pre">path.path.function</span></code>. Only the function name is used when calling the function in MATLAB. For example, to call on <code class="docutils literal notranslate"><span class="pre">mhkit.qc.check_timestamp</span></code> simply use <code class="docutils literal notranslate"><span class="pre">check_timestamp</span></code>.</p>
</div>
<dl class="mat function" id="module-mhkit.qc">
<dt class="sig sig-object mat" id="mhkit.qc.check_corrupt">
<span class="sig-prename descclassname"><span class="pre">mhkit.qc.</span></span><span class="sig-name descname"><span class="pre">check_corrupt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">data</span></em>, <em class="sig-param"><span class="pre">vals</span></em>, <em class="sig-param"><span class="pre">options</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mhkit.qc.check_corrupt" title="Link to this definition"></a></dt>
<dd><blockquote>
<div><p>Check for data that is outside expected range</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">pandas</span> <span class="pre">dataframe</span> <span class="pre">or</span> <span class="pre">qcdata</span> <span class="pre">structure</span></code></span>) – <p>Pandas dataframe indexed by datetime (use
py.mhkit_python_utils.pandas_dataframe.timeseries_to_pandas(ts,time,x))</p>
<p>OR</p>
<p>qcdata structure of form:</p>
<blockquote>
<div><p>data.values: 2D array of doubles with arbitrary number of columns</p>
<p>data.time:   1D array of datetimes or posix times</p>
</div></blockquote>
</p></li>
<li><p><strong>vals</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">cell</span> <span class="pre">array</span> <span class="pre">of</span> <span class="pre">floats</span></code></span>) – Array of at least two corrupt data values
Use cell array for one value, or pack array with NaN
(A single value array becomes a non-iterable scalar in python and
will cause an error.)</p></li>
<li><p><strong>key</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">string</span> <span class="pre">(optional)</span></code></span>) – Data column name or translation dictionary key.  If not specified
or set to py.None, all columns are used for test.
to call: check_corrupt(data,vals,”key”,key)</p></li>
<li><p><strong>min_failures</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">int</span> <span class="pre">(optional)</span></code></span>) – Minimum number of consecutive failures required for reporting
default = 1
to call: check_corrupt(data,vals,”min_failures”,min_failures)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p><strong>results</strong> (<em>qcdata structure of form:</em>) –</p>
<dl class="simple">
<dt>results.values: array of doubles</dt><dd><p>Same shape as input data.values
Elements that failed QC test replaced with NaN</p>
</dd>
<dt>results.mask: array of int64</dt><dd><p>Same shape as input data.values
Logical mask of QC results (1 = passed, 0 = failed QC test)</p>
</dd>
<dt>results.time: array of datetimes</dt><dd><p>Same as input times</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt class="sig sig-object mat" id="mhkit.qc.check_delta">
<span class="sig-prename descclassname"><span class="pre">mhkit.qc.</span></span><span class="sig-name descname"><span class="pre">check_delta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">data</span></em>, <em class="sig-param"><span class="pre">bound</span></em>, <em class="sig-param"><span class="pre">window</span></em>, <em class="sig-param"><span class="pre">options</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mhkit.qc.check_delta" title="Link to this definition"></a></dt>
<dd><blockquote>
<div><p>Check for stagnant data and/or abrupt changes in the data using
difference between max and min values within a rolling window</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">pandas</span> <span class="pre">dataframe</span> <span class="pre">or</span> <span class="pre">qcdata</span> <span class="pre">structure</span></code></span>) – <p>Pandas dataframe indexed by datetime (use
py.mhkit_python_utils.pandas_dataframe.timeseries_to_pandas(ts,time,x))</p>
<p>OR</p>
<p>qcdata structure of form:</p>
<blockquote>
<div><p>data.values: 2D array of doubles with arbitrary number of columns</p>
<p>data.time:   1D array of datetimes or posix times</p>
</div></blockquote>
</p></li>
<li><p><strong>bound</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">cell</span> <span class="pre">array</span> <span class="pre">of</span> <span class="pre">floats</span></code></span>) – [lower bound, upper bound] for min/max delta checking
NaN or py.None can be used for either bound</p></li>
<li><p><strong>window</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">int</span> <span class="pre">or</span> <span class="pre">double</span></code></span>) – Size of the rolling window (in seconds) used to compute delta</p></li>
<li><p><strong>key</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">string</span> <span class="pre">(optional)</span></code></span>) – Data column name or translation dictionary key.  If not specified
or set to py.None, all columns are used for test.
to call: check_delta(data,bound,”key”,key)</p></li>
<li><p><strong>direction</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">string</span> <span class="pre">(optional)</span></code></span>) – <dl class="simple">
<dt>Options: ‘positive’, ‘negative’, or py.None (default)</dt><dd><p>If direction is positive, then only identify positive deltas
(the min occurs before the max)
If direction is negative, then only identify negative deltas (the max occurs before the min)
If direction is py.None, then identify both positive and negative deltas</p>
</dd>
</dl>
<p>to call: check_delta(data,bound,”direction”,direction)</p>
</p></li>
<li><p><strong>min_failures</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">int</span> <span class="pre">(optional)</span></code></span>) – Minimum number of consecutive failures required for reporting,
default = 1
to call: check_delta(data,bound,”min_failures”,min_failures)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p><strong>results</strong> (<em>qcdata structure of form:</em>) –</p>
<dl class="simple">
<dt>results.values: array of doubles</dt><dd><p>Same shape as input data.values
Elements that failed QC test replaced with NaN</p>
</dd>
<dt>results.mask: array of int64</dt><dd><p>Same shape as input data.values
Logical mask of QC results (1 = passed, 0 = failed QC test)</p>
</dd>
<dt>results.time: array of datetimes</dt><dd><p>Same as input times</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt class="sig sig-object mat" id="mhkit.qc.check_increment">
<span class="sig-prename descclassname"><span class="pre">mhkit.qc.</span></span><span class="sig-name descname"><span class="pre">check_increment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">data</span></em>, <em class="sig-param"><span class="pre">bound</span></em>, <em class="sig-param"><span class="pre">options</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mhkit.qc.check_increment" title="Link to this definition"></a></dt>
<dd><blockquote>
<div><p>Check data increments using the difference between values</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">pandas</span> <span class="pre">dataframe</span> <span class="pre">or</span> <span class="pre">qcdata</span> <span class="pre">structure</span></code></span>) – <p>Pandas dataframe indexed by datetime (use
py.mhkit_python_utils.pandas_dataframe.timeseries_to_pandas(ts,time,x))</p>
<p>OR</p>
<p>qcdata structure of form:</p>
<blockquote>
<div><p>data.values: 2D array of doubles with arbitrary number of columns</p>
<p>data.time:   1D array of datetimes or posix times</p>
</div></blockquote>
</p></li>
<li><p><strong>bound</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">cell</span> <span class="pre">array</span> <span class="pre">of</span> <span class="pre">floats</span></code></span>) – [lower bound, upper bound] for min/max difference
NaN or py.None can be used for either bound</p></li>
<li><p><strong>key</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">string</span> <span class="pre">(optional)</span></code></span>) – Data column name or translation dictionary key.  If not specified
or set to py.None, all columns are used for test.
to call: check_increment(data,bound,”key”,key)</p></li>
<li><p><strong>increment</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">int</span> <span class="pre">(optional)</span></code></span>) – Time step shift used to compute difference, default = 1
to call: check_increment(data,bound,”increment”,increment)</p></li>
<li><p><strong>absolute_value</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">logical</span> <span class="pre">(optional)</span></code></span>) – Use the absolute value of increment data, default = py.True
to call: check_increment(data,bound,”absolute_value”,absolute_value)</p></li>
<li><p><strong>min_failures</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">int</span> <span class="pre">(optional)</span></code></span>) – Minimum number of consecutive failures required for reporting
default = 1
to call: check_increment(data,bound,”min_failures”,min_failures)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p><strong>results</strong> (<em>qcdata structure of form:</em>) –</p>
<dl class="simple">
<dt>results.values: array of doubles</dt><dd><p>Same shape as input data.values
Elements that failed QC test replaced with NaN</p>
</dd>
<dt>results.mask: array of int64</dt><dd><p>Same shape as input data.values
Logical mask of QC results (1 = passed, 0 = failed QC test)</p>
</dd>
<dt>results.time: array of datetimes</dt><dd><p>Same as input times</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt class="sig sig-object mat" id="mhkit.qc.check_missing">
<span class="sig-prename descclassname"><span class="pre">mhkit.qc.</span></span><span class="sig-name descname"><span class="pre">check_missing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">data</span></em>, <em class="sig-param"><span class="pre">options</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mhkit.qc.check_missing" title="Link to this definition"></a></dt>
<dd><blockquote>
<div><p>Check for missing data</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">pandas</span> <span class="pre">dataframe</span> <span class="pre">or</span> <span class="pre">qcdata</span> <span class="pre">structure</span></code></span>) – <p>Pandas dataframe indexed by datetime (use
py.mhkit_python_utils.pandas_dataframe.timeseries_to_pandas(ts,time,x))</p>
<p>OR</p>
<p>data structure of form:</p>
<blockquote>
<div><p>data.values: 2D array of doubles with arbitrary number of columns</p>
<p>data.time:   1D array of datetimes or posix times</p>
</div></blockquote>
</p></li>
<li><p><strong>key</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">string</span> <span class="pre">(optional)</span></code></span>) – Data column name or translation dictionary key.  If not specified
or set to py.None, all columns are used for test.
to call: check_missing(data,”key”,key)</p></li>
<li><p><strong>min_failures</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">int</span> <span class="pre">(optional)</span></code></span>) – Minimum number of consecutive failures required for reporting,
default = 1
to call: check_missing(data,”min_failures”,min_failures)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p><strong>results</strong> (<em>qcdata structure of form:</em>) –</p>
<dl class="simple">
<dt>results.values: array of doubles</dt><dd><p>Same shape as input data.values
Elements that failed QC test replaced with NaN</p>
</dd>
<dt>results.mask: array of int64</dt><dd><p>Same shape as input data.values
Logical mask of QC results (1 = passed, 0 = failed QC test)</p>
</dd>
<dt>results.time: array of datetimes</dt><dd><p>Same as input times</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt class="sig sig-object mat" id="mhkit.qc.check_outlier">
<span class="sig-prename descclassname"><span class="pre">mhkit.qc.</span></span><span class="sig-name descname"><span class="pre">check_outlier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">data</span></em>, <em class="sig-param"><span class="pre">bound</span></em>, <em class="sig-param"><span class="pre">options</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mhkit.qc.check_outlier" title="Link to this definition"></a></dt>
<dd><blockquote>
<div><p>Check or outliers using normalized data within a rolling window
Upper and lower bounds in standard deviations
Data is normalized using (data-mean)/std</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">pandas</span> <span class="pre">dataframe</span> <span class="pre">or</span> <span class="pre">qcdata</span> <span class="pre">structure</span></code></span>) – <p>Pandas dataframe indexed by datetime (use
py.mhkit_python_utils.pandas_dataframe.timeseries_to_pandas(ts,time,x))</p>
<p>OR</p>
<p>qcdata structure of form:</p>
<blockquote>
<div><p>data.values: 2D array of doubles with arbitrary number of columns</p>
<p>data.time:   1D array of datetimes or posix times</p>
</div></blockquote>
</p></li>
<li><p><strong>bound</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">cell</span> <span class="pre">array</span> <span class="pre">of</span> <span class="pre">floats</span></code></span>) – [lower bound, upper bound] of standard deviations from mean allowed
NaN or py.None can be used for either bound</p></li>
<li><p><strong>key</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">string</span> <span class="pre">(optional)</span></code></span>) – Data column name or translation dictionary key.  If not specified
or set to py.None, all columns are used for test.
to call: check_outlier(data,bound,”key”,key)</p></li>
<li><p><strong>window</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">int</span> <span class="pre">(optional)</span></code></span>) – Size of rolling window (in seconds) used to normalize data
default = 3600.  If window is set to py.None, data is normalized
using mean and stddev of entire data set (column by column)
to call: check_outlier(data,bound,”window”,window)</p></li>
<li><p><strong>absolute_value</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">logical</span> <span class="pre">(optional)</span></code></span>) – Use the absolute value of the normalized data, default = py.True
to call: check_outlier(data,bound,”absolute_value”,absolute_value)</p></li>
<li><p><strong>min_failures</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">int</span> <span class="pre">(optional)</span></code></span>) – Minimum number of consecutive failures required for reporting,
default = 1
to call: check_outlier(data,bound,”min_failures”,min_failures)</p></li>
<li><p><strong>streaming</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">logical</span> <span class="pre">(optional)</span></code></span>) – Indicates if streaming analysis should be used, default = py.False
to call: check_outlier(data,bound,”streaming”,streaming)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p><strong>results</strong> (<em>qcdata structure of form:</em>) –</p>
<dl class="simple">
<dt>results.values: array of doubles</dt><dd><p>Same shape as input data.values
Elements that failed QC test replaced with NaN</p>
</dd>
<dt>results.mask: array of int64</dt><dd><p>Same shape as input data.values
Logical mask of QC results (1 = passed, 0 = failed QC test)</p>
</dd>
<dt>results.time: array of datetimes</dt><dd><p>Same as input times</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt class="sig sig-object mat" id="mhkit.qc.check_range">
<span class="sig-prename descclassname"><span class="pre">mhkit.qc.</span></span><span class="sig-name descname"><span class="pre">check_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">data</span></em>, <em class="sig-param"><span class="pre">bound</span></em>, <em class="sig-param"><span class="pre">options</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mhkit.qc.check_range" title="Link to this definition"></a></dt>
<dd><blockquote>
<div><p>Check for data that is outside expected range</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">pandas</span> <span class="pre">dataframe</span> <span class="pre">or</span> <span class="pre">qcdata</span> <span class="pre">structure</span></code></span>) – <p>Pandas dataframe indexed by datetime (use
py.mhkit_python_utils.pandas_dataframe.timeseries_to_pandas(ts,time,x))</p>
<p>OR</p>
<p>qcdata structure of form:</p>
<blockquote>
<div><p>data.values: 2D array of doubles with arbitrary number of columns</p>
<p>data.time:   1D array of datetimes or posix times</p>
</div></blockquote>
</p></li>
<li><p><strong>bound</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">cell</span> <span class="pre">array</span> <span class="pre">of</span> <span class="pre">floats</span></code></span>) – [lower bound, upper bound] for range checking
NaN or py.None can be used for either bound</p></li>
<li><p><strong>key</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">string</span> <span class="pre">(optional)</span></code></span>) – Data column name or translation dictionary key.  If not specified
or set to py.None, all columns are used for test.
to call: check_range(data,bound,”key”,key)</p></li>
<li><p><strong>min_failures</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">int</span> <span class="pre">(optional)</span></code></span>) – Minimum number of consecutive failures required for reporting
default = 1
to call: check_range(data,bound,”min_failures”,min_failures)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p><strong>results</strong> (<em>qcdata structure of form:</em>) –</p>
<dl class="simple">
<dt>results.values: array of doubles</dt><dd><p>Same shape as input data.values
Elements that failed QC test replaced with NaN</p>
</dd>
<dt>results.mask: array of int64</dt><dd><p>Same shape as input data.values
Logical mask of QC results (1 = passed, 0 = failed QC test)</p>
</dd>
<dt>results.time: array of datetimes</dt><dd><p>Same as input times</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt class="sig sig-object mat" id="mhkit.qc.check_timestamp">
<span class="sig-prename descclassname"><span class="pre">mhkit.qc.</span></span><span class="sig-name descname"><span class="pre">check_timestamp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">data</span></em>, <em class="sig-param"><span class="pre">freq</span></em>, <em class="sig-param"><span class="pre">options</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mhkit.qc.check_timestamp" title="Link to this definition"></a></dt>
<dd><blockquote>
<div><p>Check time series for missing, non-monotonic, and duplicate timestamps</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">pandas</span> <span class="pre">dataframe</span> <span class="pre">or</span> <span class="pre">qcdata</span> <span class="pre">structure</span></code></span>) – <p>Pandas dataframe indexed by datetime (use
py.mhkit_python_utils.pandas_dataframe.timeseries_to_pandas(ts,time,x))</p>
<p>OR</p>
<p>qcdata structure of form:</p>
<blockquote>
<div><p>data.values: 2D array of doubles with arbitrary number of columns</p>
<p>data.time:   1D array of datetimes or posix times</p>
</div></blockquote>
</p></li>
<li><p><strong>freq</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">int</span></code></span>) – Expected time series frequency, in seconds</p></li>
<li><p><strong>expected_start_time</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">Timestamp</span> <span class="pre">(optional)</span></code></span>) – Expected start time in datetime format.  Default: None
to call: check_timestamp(data,freq,”expected_start_time”,expected_start_time)</p></li>
<li><p><strong>expected_end_time</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">Timestamp</span> <span class="pre">(optional)</span></code></span>) – Expected end time in datetime format.  Default: None
to call: check_timestamp(data,freq,”expected_end_time”,expected_end_time)</p></li>
<li><p><strong>min_failures</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">int</span> <span class="pre">(optional)</span></code></span>) – Minimum number of consecutive failures required for reporting,
default = 1
to call: check_timestamp(data,freq,”min_failures”,min_failures)</p></li>
<li><p><strong>exact_times</strong> (<span><code class="xref mat mat-obj docutils literal notranslate"><span class="pre">logical</span> <span class="pre">(optional)</span></code></span>) – If py.True, times are expected to occur at regular intervals
(specified by freq) and data is reindexed to match expected frequency
If py.False, times only need to occur once or more within each interval
(specified by freq) and data is not reindexed
to call: check_timestamp(data,freq,”exact_times”,exact_times)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p><strong>results</strong> (<em>qcdata structure of form:</em>) –</p>
<dl class="simple">
<dt>results.values: array of doubles</dt><dd><p>Same shape as input data.values
Elements that failed QC test replaced with NaN</p>
</dd>
<dt>results.mask: array of int64</dt><dd><p>Same shape as input data.values
Logical mask of QC results (1 = passed, 0 = failed QC test)</p>
</dd>
<dt>results.time: array of datetimes</dt><dd><p>Same as input times (possibly reindexed by exact_times)</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt class="sig sig-object mat" id="mhkit.qc.qc_data_to_dataframe">
<span class="sig-prename descclassname"><span class="pre">mhkit.qc.</span></span><span class="sig-name descname"><span class="pre">qc_data_to_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mhkit.qc.qc_data_to_dataframe" title="Link to this definition"></a></dt>
<dd><blockquote>
<div><p>Convert qc data structure to pandas dataframe</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>results</strong> (<em>Pandas DataFrame</em>)</p>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../matlab.html" class="btn btn-neutral float-left" title="MHKiT-MATLAB" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="api.wave.html" class="btn btn-neutral float-right" title="Wave Module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, National Renewable Energy Laboratory, Pacific Northwest National Laboratory, and Sandia National Laboratories.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-164358105-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-164358105-1', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>