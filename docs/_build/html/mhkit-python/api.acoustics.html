

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-164358105-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-164358105-1');
    </script>
    
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Passive Acoustics Module &mdash; MHKiT v0.9.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=5b801204" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=5ea31d45" />
      <link rel="stylesheet" type="text/css" href="../_static/css/mhkit.css?v=20290a2c" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=c20ff342"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="QC Module" href="../mhkit-matlab/api.qc.html" />
    <link rel="prev" title="Utils Module" href="api.utils.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            MHKiT
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">MHKiT-Python Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../matlab_installation.html">MHKiT-MATLAB Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module.html">Module Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../api.html#mhkit-python-api">MHKiT-Python API</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="api.qc.html">QC Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.wave.html">Wave Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.river.html">River Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.tidal.html">Tidal Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.power.html">Power Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.loads.html">Loads Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.dolfyn.html">DOLfYN Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.mooring.html">Mooring Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.utils.html">Utils Module</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Passive Acoustics Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-mhkit.acoustics.io">IO</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-mhkit.acoustics.graphics">Graphics</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#mhkit-matlab-api">MHKiT-MATLAB API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../terminology.html">Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webinars.html">Webinars</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citeus.html">Cite Us</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contact.html">Online Forum</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MHKiT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../api.html">API Documentation</a></li>
      <li class="breadcrumb-item active">Passive Acoustics Module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/mhkit-python/api.acoustics.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-mhkit.acoustics">
<span id="passive-acoustics-module"></span><span id="acoustics-api"></span><h1>Passive Acoustics Module<a class="headerlink" href="#module-mhkit.acoustics" title="Link to this heading"></a></h1>
<p>The passive acoustics module provides a set of functions
for analyzing and visualizing passive acoustic monitoring
data deployed in water bodies. This package reads in raw
<em>.wav</em> files and conducts basic acoustics analysis and
visualization.</p>
<p>To start using the module, import it directly from MHKiT:
<code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">mhkit</span> <span class="pre">import</span> <span class="pre">acoustics</span></code>. The analysis functions
are available directly from the main import, while the
I/O and graphics submodules are available from
<code class="docutils literal notranslate"><span class="pre">acoustics.io</span></code> and  <code class="docutils literal notranslate"><span class="pre">acoustics.graphics</span></code>, respectively.
The base functions are intended to be used on top of the I/O submodule, and
include functionality to calibrate data, create spectral densities, sound
pressure levels, and time or band aggregate spectral data.</p>
<p id="module-mhkit.acoustics.analysis">This module contains key functions for passive acoustics analysis, designed to process
and analyze sound pressure data from .wav files in the frequency and time domains.
The functions herein build on each other, with a structured flow that facilitates the
calculation of sound pressure levels, spectral densities, and banded averages, based on
input audio data.</p>
<p>The following functionality is provided:</p>
<ol class="arabic simple">
<li><p><strong>Frequency Validation and Warning</strong>:</p>
<ul class="simple">
<li><p><cite>_fmax_warning</cite>: Ensures specified maximum frequency does not exceed the Nyquist frequency,
adjusting if necessary to avoid aliasing.</p></li>
</ul>
</li>
<li><p><strong>Shallow Water Cutoff Frequency</strong>:</p>
<ul class="simple">
<li><p><cite>minimum_frequency</cite>: Calculates the minimum frequency cutoff based on water depth and the
speed of sound in water and seabed materials.</p></li>
</ul>
</li>
<li><p><strong>Spectral Density Calculations</strong>:</p>
<ul class="simple">
<li><p><cite>sound_pressure_spectral_density</cite>: Computes the mean square sound pressure spectral density
using FFT binning with Hanning windowing and 50% overlap.</p></li>
</ul>
</li>
<li><p><strong>Calibration</strong>:</p>
<ul class="simple">
<li><p><cite>apply_calibration</cite>: Applies calibration adjustments to the spectral density data using
a sensitivity curve, filling missing values as specified.</p></li>
</ul>
</li>
<li><p><strong>Spectral Density Level Calculation</strong>:</p>
<ul class="simple">
<li><p><cite>sound_pressure_spectral_density_level</cite>: Converts mean square spectral density values to
sound pressure spectral density levels in dB.</p></li>
</ul>
</li>
<li><p><strong>Spectral Density Aggregation</strong>:</p>
<ul class="simple">
<li><p><cite>band_aggregate</cite>: Aggregates spectral density data into fractional octave bands using
specified statistical methods (e.g., median, mean).</p></li>
<li><p><cite>time_aggregate</cite>: Aggregates spectral density data into specified time windows using
similar statistical methods.</p></li>
</ul>
</li>
<li><p><strong>Sound Pressure Level Calculation</strong>:</p>
<ul class="simple">
<li><p><cite>sound_pressure_level</cite>: Computes the overall sound pressure level within a frequency band
from mean square spectral density.</p></li>
</ul>
</li>
<li><p><strong>Frequency-Banded Sound Pressure Level</strong>:</p>
<ul class="simple">
<li><p><cite>_band_sound_pressure_level</cite>: Helper function for calculating sound pressure levels
over specified frequency bandwidths.</p></li>
<li><p><cite>third_octave_sound_pressure_level</cite> and <cite>decidecade_sound_pressure_level</cite>:
Compute sound pressure levels across third-octave and decidecade bands, respectively.</p></li>
</ul>
</li>
</ol>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">minimum_frequency</span></code></p></td>
<td><p>Estimate the shallow water cutoff frequency based on the speed of sound in the water column and the speed of sound in the seabed material (generally ranges from 1450 - 1800 m/s)</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">sound_pressure_spectral_density</span></code></p></td>
<td><p>Calculates the mean square sound pressure spectral density from audio samples split into FFTs with a specified bin length in seconds, using Hanning windowing with 50% overlap.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">apply_calibration</span></code></p></td>
<td><p>Applies custom calibration to spectral density values.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">sound_pressure_spectral_density_level</span></code></p></td>
<td><p>Calculates the sound pressure spectral density level from the mean square sound pressure spectral density.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">band_aggregate</span></code></p></td>
<td><p>Reorganizes spectral density level frequency tensor into fractional octave bands and applies a function to them.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">time_aggregate</span></code></p></td>
<td><p>Reorganizes spectral density level frequency tensor into time windows and applies a function to them.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">sound_pressure_level</span></code></p></td>
<td><p>Calculates the sound pressure level in a specified frequency band from the mean square sound pressure spectral density.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">third_octave_sound_pressure_level</span></code></p></td>
<td><p>Calculates the sound pressure level in third octave bands directly from the mean square sound pressure spectral density.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">decidecade_sound_pressure_level</span></code></p></td>
<td><p>Calculates the sound pressure level in decidecade bands directly from the mean square sound pressure spectral density.</p></td>
</tr>
</tbody>
</table>
<section id="module-mhkit.acoustics.io">
<span id="io"></span><h2>IO<a class="headerlink" href="#module-mhkit.acoustics.io" title="Link to this heading"></a></h2>
<p>This submodule provides input/output functions for passive acoustics data,
focusing on hydrophone recordings stored in WAV files. The main functionality
includes reading and processing hydrophone data from various manufacturers
and exporting audio files for easy playback and analysis.</p>
<section id="supported-hydrophone-models">
<h3>Supported Hydrophone Models<a class="headerlink" href="#supported-hydrophone-models" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>SoundTrap</strong> (Ocean Instruments)</p></li>
<li><p><strong>icListen</strong> (Ocean Sonics)</p></li>
</ul>
</section>
<section id="functions-overview">
<h3>Functions Overview<a class="headerlink" href="#functions-overview" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong>Data Reading</strong>:</p>
<ul class="simple">
<li><p><cite>read_hydrophone</cite>: Main function to read a WAV file from a hydrophone and
convert it to either a voltage or pressure time series, depending on the
availability of sensitivity data.</p></li>
<li><p><cite>read_soundtrap</cite>: Wrapper for reading Ocean Instruments SoundTrap hydrophone
files, automatically using appropriate metadata.</p></li>
<li><p><cite>read_iclisten</cite>: Wrapper for reading Ocean Sonics icListen hydrophone files,
including metadata processing to apply hydrophone sensitivity for direct
sound pressure calculation.</p></li>
</ul>
</li>
<li><p><strong>Audio Export</strong>:</p>
<ul class="simple">
<li><p><cite>export_audio</cite>: Converts processed sound pressure data back into a WAV file
format, with optional gain adjustment to improve playback quality.</p></li>
</ul>
</li>
<li><p><strong>Data Extraction</strong>:</p>
<ul class="simple">
<li><p><cite>_read_wav_metadata</cite>: Extracts metadata from a WAV file, including bit depth
and other header information.</p></li>
<li><p><cite>_calculate_voltage_and_time</cite>: Converts raw WAV data into voltage values and
generates a time index based on the sampling frequency.</p></li>
</ul>
</li>
</ol>
<blockquote>
<div><table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.acoustics.io.read_hydrophone" title="mhkit.acoustics.io.read_hydrophone"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_hydrophone</span></code></a></p></td>
<td><p>Read .wav file from a hydrophone.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mhkit.acoustics.io.read_soundtrap" title="mhkit.acoustics.io.read_soundtrap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_soundtrap</span></code></a></p></td>
<td><p>Read .wav file from an Ocean Instruments SoundTrap hydrophone.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.acoustics.io.read_iclisten" title="mhkit.acoustics.io.read_iclisten"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_iclisten</span></code></a></p></td>
<td><p>Read .wav file from an Ocean Sonics icListen &quot;Smart&quot; hydrophone.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mhkit.acoustics.io.export_audio" title="mhkit.acoustics.io.export_audio"><code class="xref py py-obj docutils literal notranslate"><span class="pre">export_audio</span></code></a></p></td>
<td><p>Creates human-scaled audio file from underwater recording.</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="mhkit.acoustics.io.read_hydrophone">
<span class="sig-prename descclassname"><span class="pre">mhkit.acoustics.io.</span></span><span class="sig-name descname"><span class="pre">read_hydrophone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peak_voltage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sensitivity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'2024-01-01T00:00:00'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataArray</span></span></span><a class="reference internal" href="../_modules/mhkit/acoustics/io.html#read_hydrophone"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mhkit.acoustics.io.read_hydrophone" title="Link to this definition"></a></dt>
<dd><p>Read .wav file from a hydrophone. Returns voltage timeseries if sensitivity not
provided, returns pressure timeseries if it is provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em><em> or </em><em>pathlib.Path</em>) – Input filename</p></li>
<li><p><strong>peak_voltage</strong> (<em>int</em><em> or </em><em>float</em>) – Peak voltage supplied to the analog to digital converter (ADC) in V.
(Or 1/2 of the peak to peak voltage).</p></li>
<li><p><strong>sensitivity</strong> (<em>int</em><em> or </em><em>float</em>) – Hydrophone calibration sensitivity in dB re 1 V/uPa.
Should be negative. Default: None.</p></li>
<li><p><strong>gain</strong> (<em>int</em><em> or </em><em>float</em>) – Amplifier gain in dB re 1 V/uPa. Default 0.</p></li>
<li><p><strong>start_time</strong> (<em>str</em>) – Start time in the format yyyy-mm-ddTHH:MM:SS</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>out</strong> (<em>numpy.array</em>) – Sound pressure [Pa] or Voltage [V] indexed by time[s]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mhkit.acoustics.io.read_soundtrap">
<span class="sig-prename descclassname"><span class="pre">mhkit.acoustics.io.</span></span><span class="sig-name descname"><span class="pre">read_soundtrap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sensitivity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataArray</span></span></span><a class="reference internal" href="../_modules/mhkit/acoustics/io.html#read_soundtrap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mhkit.acoustics.io.read_soundtrap" title="Link to this definition"></a></dt>
<dd><p>Read .wav file from an Ocean Instruments SoundTrap hydrophone.
Returns voltage timeseries if sensitivity not provided, returns pressure
timeseries if it is provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – Input filename.</p></li>
<li><p><strong>sensitivity</strong> (<em>int</em><em> or </em><em>float</em><em>, </em><em>optional</em>) – Hydrophone calibration sensitivity in dB re 1 V/μPa.
Should be negative. Default is None.</p></li>
<li><p><strong>gain</strong> (<em>int</em><em> or </em><em>float</em>) – Amplifier gain in dB re 1 V/μPa. Default is 0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>out</strong> (<em>xarray.DataArray</em>) – Sound pressure [Pa] or Voltage [V] indexed by time[s].</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mhkit.acoustics.io.read_iclisten">
<span class="sig-prename descclassname"><span class="pre">mhkit.acoustics.io.</span></span><span class="sig-name descname"><span class="pre">read_iclisten</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sensitivity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataArray</span></span></span><a class="reference internal" href="../_modules/mhkit/acoustics/io.html#read_iclisten"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mhkit.acoustics.io.read_iclisten" title="Link to this definition"></a></dt>
<dd><p>Read .wav file from an Ocean Sonics icListen “Smart” hydrophone.
Returns voltage timeseries if sensitivity not provided, returns pressure
timeseries if it is provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – Input filename.</p></li>
<li><p><strong>sensitivity</strong> (<em>int</em><em> or </em><em>float</em><em>, </em><em>optional</em>) – Hydrophone calibration sensitivity in dB re 1 V/μPa.
Should be negative. Default is None.</p></li>
<li><p><strong>use_metadata</strong> (<em>bool</em>) – If True and <cite>sensitivity</cite> is None, applies sensitivity value stored
in the .wav file’s LIST block. If False and <cite>sensitivity</cite> is None,
a sensitivity value isn’t applied.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>out</strong> (<em>xarray.DataArray</em>) – Sound pressure [Pa] or Voltage [V] indexed by time[s].</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mhkit.acoustics.io.export_audio">
<span class="sig-prename descclassname"><span class="pre">mhkit.acoustics.io.</span></span><span class="sig-name descname"><span class="pre">export_audio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pressure</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/mhkit/acoustics/io.html#export_audio"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mhkit.acoustics.io.export_audio" title="Link to this definition"></a></dt>
<dd><p>Creates human-scaled audio file from underwater recording.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – Output filename for the WAV file (without extension).</p></li>
<li><p><strong>pressure</strong> (<em>xarray.DataArray</em>) – <dl class="simple">
<dt>Sound pressure data with attributes:</dt><dd><ul>
<li><p>’values’ (numpy.ndarray): Pressure data array.</p></li>
<li><p>’sensitivity’ (int or float): Sensitivity of the hydrophone in dB.</p></li>
<li><p>’fs’ (int or float): Sampling frequency in Hz.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>gain</strong> (<em>int</em><em> or </em><em>float</em><em>, </em><em>optional</em>) – Gain to multiply the original time series by. Default is 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>None</em></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-mhkit.acoustics.graphics">
<span id="graphics"></span><h2>Graphics<a class="headerlink" href="#module-mhkit.acoustics.graphics" title="Link to this heading"></a></h2>
<p>This submodule provides essential plotting functions for visualizing passive acoustics
data. The functions allow for customizable plotting of sound pressure spectral density
levels across time and frequency dimensions.</p>
<p>Each plotting function leverages the flexibility of Matplotlib, allowing for passthrough
of Matplotlib keyword arguments via <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code>, making it easy to modify plot aspects such as
color, scale, and label formatting.</p>
<section id="key-functions">
<h3>Key Functions<a class="headerlink" href="#key-functions" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong>plot_spectrogram</strong>:</p>
<ul class="simple">
<li><p>Generates a spectrogram plot from sound pressure spectral density level data,
with a logarithmic frequency scale by default for improved readability of acoustic data.</p></li>
</ul>
</li>
<li><p><strong>plot_spectra</strong>:</p>
<ul class="simple">
<li><p>Produces a spectral density plot with a log-transformed x-axis, allowing for clear
visualization of spectral density across frequency bands.</p></li>
</ul>
</li>
</ol>
<blockquote>
<div><table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.acoustics.graphics.plot_spectrogram" title="mhkit.acoustics.graphics.plot_spectrogram"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_spectrogram</span></code></a></p></td>
<td><p>Plots the spectrogram of the sound pressure spectral density level.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mhkit.acoustics.graphics.plot_spectra" title="mhkit.acoustics.graphics.plot_spectra"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_spectra</span></code></a></p></td>
<td><p>Plots spectral density.</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="mhkit.acoustics.graphics.plot_spectrogram">
<span class="sig-prename descclassname"><span class="pre">mhkit.acoustics.graphics.</span></span><span class="sig-name descname"><span class="pre">plot_spectrogram</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spsdl</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmax</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">figure</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Axes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">figure</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Axes</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/mhkit/acoustics/graphics.html#plot_spectrogram"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mhkit.acoustics.graphics.plot_spectrogram" title="Link to this definition"></a></dt>
<dd><p>Plots the spectrogram of the sound pressure spectral density level.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spsdl</strong> (<em>xarray DataArray</em><em> (</em><em>time</em><em>, </em><em>freq</em><em>)</em>) – Mean square sound pressure spectral density level in dB rel 1 uPa^2/Hz</p></li>
<li><p><strong>fmin</strong> (<em>int</em>) – Lower frequency band limit (lower limit of the hydrophone). Default: 10 Hz</p></li>
<li><p><strong>fmax</strong> (<em>int</em>) – Upper frequency band limit (Nyquist frequency). Default: 100000 Hz</p></li>
<li><p><strong>fig</strong> (<em>matplotlib.pyplot.figure</em>) – Figure handle to plot on</p></li>
<li><p><strong>ax</strong> (<em>matplotlib.pyplot.axis</em>) – Figure axis containing plot objects</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Dictionary of matplotlib function keyword arguments</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>fig</strong> (<em>matplotlib.pyplot.figure</em>) – Figure handle of plot</p></li>
<li><p><strong>ax</strong> (<em>matplotlib.pyplot.Axes</em>) – Figure plot axis</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mhkit.acoustics.graphics.plot_spectra">
<span class="sig-prename descclassname"><span class="pre">mhkit.acoustics.graphics.</span></span><span class="sig-name descname"><span class="pre">plot_spectra</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spsdl</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmax</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">figure</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Axes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">figure</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Axes</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/mhkit/acoustics/graphics.html#plot_spectra"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mhkit.acoustics.graphics.plot_spectra" title="Link to this definition"></a></dt>
<dd><p>Plots spectral density. X axis is log-transformed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spsdl</strong> (<em>xarray DataArray</em><em> (</em><em>time</em><em>, </em><em>freq</em><em>)</em>) – Mean square sound pressure spectral density level in dB rel 1 uPa^2/Hz</p></li>
<li><p><strong>fmin</strong> (<em>int</em>) – Lower frequency band limit (lower limit of the hydrophone). Default: 10 Hz</p></li>
<li><p><strong>fmax</strong> (<em>int</em>) – Upper frequency band limit (Nyquist frequency). Default: 100000 Hz</p></li>
<li><p><strong>fig</strong> (<em>matplotlib.pyplot.figure</em>) – Figure handle to plot on</p></li>
<li><p><strong>ax</strong> (<em>matplotlib.pyplot.Axes</em>) – Figure axis containing plot objects</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Dictionary of matplotlib function keyword arguments</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>fig</strong> (<em>matplotlib.pyplot.figure</em>) – Figure handle of plot</p></li>
<li><p><strong>ax</strong> (<em>matplotlib.pyplot.Axes</em>) – Figure plot axis</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="api.utils.html" class="btn btn-neutral float-left" title="Utils Module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../mhkit-matlab/api.qc.html" class="btn btn-neutral float-right" title="QC Module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, National Renewable Energy Laboratory, Pacific Northwest National Laboratory, and Sandia National Laboratories.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>