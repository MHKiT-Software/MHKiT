

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-164358105-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-164358105-1');
    </script>
    
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MHKiT Tidal Module &mdash; MHKiT v0.9.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5b801204" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=5ea31d45" />
      <link rel="stylesheet" type="text/css" href="_static/nbsphinx-code-cells.css?v=2aa19091" />
      <link rel="stylesheet" type="text/css" href="_static/css/mhkit.css?v=20290a2c" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=c20ff342"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tidal Power Performance Analysis" href="tidal_performance_example.html" />
    <link rel="prev" title="Strain Measurement Example" href="strain_measurement_example.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            MHKiT
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">MHKiT-Python Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="matlab_installation.html">MHKiT-MATLAB Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="module.html">Module Overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="examples.html">Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="examples.html#overview">Overview</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="examples.html#all-python-notebooks">All Python Notebooks</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="ADCP_Delft3D_TRTS_example.html">Comparing Transect Data at the Tanana River Test Site</a></li>
<li class="toctree-l3"><a class="reference internal" href="Delft3D_example.html">Delft3D IO Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="PacWave_resource_characterization_example.html">PacWave Resource Assessment</a></li>
<li class="toctree-l3"><a class="reference internal" href="SWAN_example.html">MHKiT SWAN Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="WPTO_hindcast_example.html">MHKiT WPTO Hindcast Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="acoustics_example.html">Analyzing Passive Acoustic Data with MHKiT</a></li>
<li class="toctree-l3"><a class="reference internal" href="adcp_example.html">Analyzing ADCP Data with MHKiT</a></li>
<li class="toctree-l3"><a class="reference internal" href="adv_example.html">Reading ADV Data with MHKiT</a></li>
<li class="toctree-l3"><a class="reference internal" href="cdip_example.html">MHKiT CDIP IO</a></li>
<li class="toctree-l3"><a class="reference internal" href="environmental_contours_example.html">MHKiT Environmental Contours</a></li>
<li class="toctree-l3"><a class="reference internal" href="extreme_response_MLER_example.html">MLER example</a></li>
<li class="toctree-l3"><a class="reference internal" href="extreme_response_contour_example.html">Extreme Conditions Modeling - Contour Approach</a></li>
<li class="toctree-l3"><a class="reference internal" href="extreme_response_full_sea_state_example.html">Extreme Conditions Modeling - Full Sea State Approach</a></li>
<li class="toctree-l3"><a class="reference internal" href="loads_example.html">MHKiT Loads Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="metocean_example.html">MHKiT Metocean Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="mooring_example.html">Mooring Module Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="power_example.html">MHKiT Power Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="qc_example.html">MHKiT Quality Control Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="river_example.html">MHKiT River Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="short_term_extremes_example.html">MHKit Short-term Extreme Loads</a></li>
<li class="toctree-l3"><a class="reference internal" href="strain_measurement_example.html">Strain Measurement Example</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">MHKiT Tidal Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Loading-Data-from-NOAA-Currents">Loading Data from NOAA-Currents</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Principal-Flow-Directions">Principal Flow Directions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Joint-Probability-Distribution">Joint Probability Distribution</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Rose-plot">Rose plot</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Velocity-Duration-Curve">Velocity Duration Curve</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Plot-by-phase-direction">Plot by phase direction</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tidal_performance_example.html">Tidal Power Performance Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="upcrossing_example.html">MHKit Upcrossing Analysis Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="wave_example.html">MHKiT Wave Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="wecsim_example.html">MHKiT WEC-Sim Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="directional_waves.html">Directional Wave Spectrum from NDBC Buoys</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="terminology.html">Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="webinars.html">Webinars</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="citeus.html">Cite Us</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact.html">Online Forum</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MHKiT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="examples.html">Examples</a></li>
      <li class="breadcrumb-item active">MHKiT Tidal Module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/tidal_example.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="MHKiT-Tidal-Module">
<h1>MHKiT Tidal Module<a class="headerlink" href="#MHKiT-Tidal-Module" title="Link to this heading"></a></h1>
<p>The following example will familiarize the user with the <a class="reference external" href="https://mhkit-software.github.io/MHKiT/mhkit-python/api.tidal.html">MHKiT tidal module</a> by stepping through the calculation of the velocity duration curve. The data file used in this example is stored in the <a class="reference external" href="https://github.com/MHKiT-Software/MHKiT-Python/tree/main/examples/data">\\MHKiT\\examples\\data</a> directory.</p>
<p>Start by importing the necessary MHKiT module.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">mhkit</span><span class="w"> </span><span class="kn">import</span> <span class="n">tidal</span>
</pre></div>
</div>
</div>
<section id="Loading-Data-from-NOAA-Currents">
<h2>Loading Data from NOAA-Currents<a class="headerlink" href="#Loading-Data-from-NOAA-Currents" title="Link to this heading"></a></h2>
<p>This example uses 1 year of data from the NOAA-Currents sites. A map of available currents stations is available at <a class="reference external" href="https://tidesandcurrents.noaa.gov/map/">https://tidesandcurrents.noaa.gov/map/</a>. The tidal io module includes two functions to import data: <code class="docutils literal notranslate"><span class="pre">request_noaa_data</span></code> which pulls data from the website, and <code class="docutils literal notranslate"><span class="pre">read_noaa_json</span></code> which loads a JSON file. The request function can save the JSON file for later use.</p>
<p>For simplicity, this example loads data from a JSON file into a pandas DataFrame. This data contains 1 year of 6 minute averaged data from the Southampton Shoal Channel LB 6 (Station Number: s08010) in San Francisco Bay. The data includes 6 minute averaged direction [degrees] and speed [cm/s] indexed by time. The DataFrame key names returned by NOAA are ‘d’ for direction and ‘s’ for speed. Since MHKIT uses SI units, speed is converted to m/s.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load tidal data, South Hampton Shoal LB 6</span>
<span class="n">data</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="n">tidal</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">noaa</span><span class="o">.</span><span class="n">read_noaa_json</span><span class="p">(</span><span class="s2">&quot;data/tidal/s08010.json&quot;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>

<span class="c1"># Convert discharge data from cm/s to m/s</span>
<span class="n">data</span><span class="o">.</span><span class="n">s</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">s</span> <span class="o">/</span> <span class="mi">100</span>

<span class="c1"># Print data</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
                         s    d  b
2016-11-08 12:04:00  0.673  358  4
2016-11-08 12:34:00  0.689  360  4
2016-11-08 12:46:00  0.738  356  4
2016-11-08 12:58:00  0.744  359  4
2016-11-08 13:10:00  0.648  358  4
...                    ...  ... ..
2018-04-01 22:02:00  0.089  296  4
2018-04-01 22:14:00  0.102  356  4
2018-04-01 22:26:00  0.011    3  4
2018-04-01 22:38:00  0.060  193  4
2018-04-01 23:20:00  0.439  165  4

[18890 rows x 3 columns]
</pre></div></div>
</div>
<p>The data can also be obtained using the function <code class="docutils literal notranslate"><span class="pre">request_noaa_data</span></code> in the tidal IO module. To use this function, we need a station number, parameter type, start date, and end date. The station number can be found on the NOAA tides and currents website linked above. The IEC standard recommends 1 year of 10-minute direction and velocity data. The request function allows users to easily pull any timeframe of data although NOAA limits any one pull to 30 days.</p>
<p>The following code, which has been commented out for this demonstration, can be used to pull data from the NOAA website. This function can be used to save data to a JSON for later use.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># data, metadata = tidal.io.noaa.request_noaa_data(station=&#39;s08010&#39;, parameter=&#39;currents&#39;,</span>
<span class="c1">#                               start_date=&#39;20161101&#39;, end_date=&#39;20180401&#39;,</span>
<span class="c1">#                               proxy=None, write_json=&#39;data/s08010.json&#39;)</span>
</pre></div>
</div>
</div>
</section>
<section id="Principal-Flow-Directions">
<h2>Principal Flow Directions<a class="headerlink" href="#Principal-Flow-Directions" title="Link to this heading"></a></h2>
<p>As an initial check on the data, a velocity plot can be created to identify data gaps. To consider the velocity in one of the principal flow directions we apply the <code class="docutils literal notranslate"><span class="pre">principal_flow_directions</span></code> function. This function returns 2 directions (in degrees) corresponding to the flood and ebb directions of the tidal site. Principal flow directions are calculated based on the highest frequency directions. These directions are often close to 180 degrees apart but are not required to be.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">plot_current_timeseries</span></code> function plots velocity in either direction using the speed timeseries.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Specify histogram bin width for directions to calculate the principal flow directions</span>
<span class="n">width_direction</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># in degrees</span>

<span class="c1"># Compute two principal flow directions</span>
<span class="n">direction1</span><span class="p">,</span> <span class="n">direction2</span> <span class="o">=</span> <span class="n">tidal</span><span class="o">.</span><span class="n">resource</span><span class="o">.</span><span class="n">principal_flow_directions</span><span class="p">(</span>
    <span class="n">data</span><span class="o">.</span><span class="n">d</span><span class="p">,</span> <span class="n">width_direction</span>
<span class="p">)</span>

<span class="c1"># Set flood and ebb directions based on site knowledge</span>
<span class="n">flood</span> <span class="o">=</span> <span class="n">direction1</span>  <span class="c1"># Flow into</span>
<span class="n">ebb</span> <span class="o">=</span> <span class="n">direction2</span>  <span class="c1"># Flow out</span>
</pre></div>
</div>
</div>
<p>The time series of current data can be plotted using the <code class="docutils literal notranslate"><span class="pre">plot_current_timeseries</span></code> function, which can include either the flood or ebb directions.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">tidal</span><span class="o">.</span><span class="n">graphics</span><span class="o">.</span><span class="n">plot_current_timeseries</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">d</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">s</span><span class="p">,</span> <span class="n">flood</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/tidal_example_9_0.png" src="_images/tidal_example_9_0.png" />
</div>
</div>
<p>The plot above shows missing data for most of early and mid-2017. The IEC standard recommends a minimum of 1 year of 10 minute averaged data (See IEC 201 for full description). For the demonstration, this dataset is sufficient. To look at a specific month we can slice the dataset before passing to the plotting function.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Slice December of 2017 out of the full dataset</span>
<span class="n">dec17_data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;2017-12-01&quot;</span><span class="p">:</span><span class="s2">&quot;2017-12-31&quot;</span><span class="p">]</span>

<span class="c1"># Plot December of 2017 as current timeseries</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">tidal</span><span class="o">.</span><span class="n">graphics</span><span class="o">.</span><span class="n">plot_current_timeseries</span><span class="p">(</span><span class="n">dec17_data</span><span class="o">.</span><span class="n">d</span><span class="p">,</span> <span class="n">dec17_data</span><span class="o">.</span><span class="n">s</span><span class="p">,</span> <span class="n">flood</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/tidal_example_11_0.png" src="_images/tidal_example_11_0.png" />
</div>
</div>
</section>
<section id="Joint-Probability-Distribution">
<h2>Joint Probability Distribution<a class="headerlink" href="#Joint-Probability-Distribution" title="Link to this heading"></a></h2>
<p>Direction and velocity can be viewed as a joint probability distribution on a polar plot. This plot helps visually show the flood and ebb directions and the frequency of particular directional velocities.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set the joint probability bin widths</span>
<span class="n">width_direction</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># in degrees</span>
<span class="n">width_velocity</span> <span class="o">=</span> <span class="mf">0.1</span>  <span class="c1"># in m/s</span>

<span class="c1"># Plot the joint probability distribution</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">tidal</span><span class="o">.</span><span class="n">graphics</span><span class="o">.</span><span class="n">plot_joint_probability_distribution</span><span class="p">(</span>
    <span class="n">data</span><span class="o">.</span><span class="n">d</span><span class="p">,</span>
    <span class="n">data</span><span class="o">.</span><span class="n">s</span><span class="p">,</span>
    <span class="n">width_direction</span><span class="p">,</span>
    <span class="n">width_velocity</span><span class="p">,</span>
    <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
    <span class="n">flood</span><span class="o">=</span><span class="n">flood</span><span class="p">,</span>
    <span class="n">ebb</span><span class="o">=</span><span class="n">ebb</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/tidal_example_13_0.png" src="_images/tidal_example_13_0.png" />
</div>
</div>
</section>
<section id="Rose-plot">
<h2>Rose plot<a class="headerlink" href="#Rose-plot" title="Link to this heading"></a></h2>
<p>A rose plot shows the same information as the joint probability distribution but the probability is now the r-axis, and the velocity is the contour value. As compared to a joint probability distribution plot, a rose plot can be more readable when using larger bins sizes.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define bin sizes</span>
<span class="n">width_direction</span> <span class="o">=</span> <span class="mi">10</span>  <span class="c1"># in degrees</span>
<span class="n">width_velocity</span> <span class="o">=</span> <span class="mf">0.25</span>  <span class="c1"># in m/s</span>

<span class="c1"># Create a rose plot</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">tidal</span><span class="o">.</span><span class="n">graphics</span><span class="o">.</span><span class="n">plot_rose</span><span class="p">(</span>
    <span class="n">data</span><span class="o">.</span><span class="n">d</span><span class="p">,</span>
    <span class="n">data</span><span class="o">.</span><span class="n">s</span><span class="p">,</span>
    <span class="n">width_direction</span><span class="p">,</span>
    <span class="n">width_velocity</span><span class="p">,</span>
    <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
    <span class="n">flood</span><span class="o">=</span><span class="n">flood</span><span class="p">,</span>
    <span class="n">ebb</span><span class="o">=</span><span class="n">ebb</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/tidal_example_15_0.png" src="_images/tidal_example_15_0.png" />
</div>
</div>
</section>
<section id="Velocity-Duration-Curve">
<h2>Velocity Duration Curve<a class="headerlink" href="#Velocity-Duration-Curve" title="Link to this heading"></a></h2>
<p>The velocity duration curve shows the probability of achieving a particular velocity value. After computing the exceedance probability, the rank order of velocity values can be plotted as follows.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calculate exceedance probability of data</span>
<span class="n">data</span><span class="p">[</span><span class="s2">&quot;F&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tidal</span><span class="o">.</span><span class="n">resource</span><span class="o">.</span><span class="n">exceedance_probability</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">s</span><span class="p">)</span>

<span class="c1"># Plot the velocity duration curve (VDC)</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">tidal</span><span class="o">.</span><span class="n">graphics</span><span class="o">.</span><span class="n">plot_velocity_duration_curve</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">s</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">F</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/tidal_example_17_0.png" src="_images/tidal_example_17_0.png" />
</div>
</div>
</section>
<section id="Plot-by-phase-direction">
<h2>Plot by phase direction<a class="headerlink" href="#Plot-by-phase-direction" title="Link to this heading"></a></h2>
<p>MHKiT can produce plots of velocity by probability and exceedance probability for each tidal phase. Using the ebb and flood direction calculated earlier we can simply pass our directions, velocities, ebb, and flood direction to createthe following plots:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tidal</span><span class="o">.</span><span class="n">graphics</span><span class="o">.</span><span class="n">tidal_phase_probability</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">d</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">s</span><span class="p">,</span> <span class="n">flood</span><span class="p">,</span> <span class="n">ebb</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;Axes: xlabel=&#39;Velocity [m/s]&#39;, ylabel=&#39;Probability&#39;&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/tidal_example_19_1.png" src="_images/tidal_example_19_1.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tidal</span><span class="o">.</span><span class="n">graphics</span><span class="o">.</span><span class="n">tidal_phase_exceedance</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">d</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">s</span><span class="p">,</span> <span class="n">flood</span><span class="p">,</span> <span class="n">ebb</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;Axes: xlabel=&#39;velocity [m/s]&#39;, ylabel=&#39;Probability of Exceedance&#39;&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/tidal_example_20_1.png" src="_images/tidal_example_20_1.png" />
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="strain_measurement_example.html" class="btn btn-neutral float-left" title="Strain Measurement Example" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tidal_performance_example.html" class="btn btn-neutral float-right" title="Tidal Power Performance Analysis" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, National Renewable Energy Laboratory, Pacific Northwest National Laboratory, and Sandia National Laboratories.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>