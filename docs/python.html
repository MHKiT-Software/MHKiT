

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>MHKiT-Python &mdash; MHKiT 0.1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="MHKiT-Matlab" href="matlab.html" />
    <link rel="prev" title="Terminology" href="terminology.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> MHKiT
          

          
          </a>

          
            
            
              <div class="version">
                0.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="terminology.html">Terminology</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">MHKiT-Python</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#test-the-installation">Test the installation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#qc-module">QC Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#quality-control">Quality control</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#utils-module">Utils Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#datetime-indices">Datetime indices</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#wave-module">Wave Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#data-formats">Data formats</a></li>
<li class="toctree-l3"><a class="reference internal" href="#io">IO</a></li>
<li class="toctree-l3"><a class="reference internal" href="#resource">Resource</a></li>
<li class="toctree-l3"><a class="reference internal" href="#performance">Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="#graphics">Graphics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#river-module">River Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#data-format">Data format</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">IO</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">Resource</a></li>
<li class="toctree-l3"><a class="reference internal" href="#device">Device</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">Graphics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tidal-module">Tidal module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#api-documentation">API documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#qc-api">QC Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#utils-api">Utils Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#wave-api">Wave Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id9">IO</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id10">Resource</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id11">Performance</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id12">Graphics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#river-api">River Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id14">IO</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id15">Resource</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id16">Device</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id17">Graphics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#tidal-api">Tidal Module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id20">QC Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id22">Wave Module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="matlab.html">MHKiT-Matlab</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="publications.html">Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact.html">Online Forum</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MHKiT</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>MHKiT-Python</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/python.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="mhkit-python">
<span id="python"></span><h1>MHKiT-Python<a class="headerlink" href="#mhkit-python" title="Permalink to this headline">¶</a></h1>
<p>The MHKiT-Python repository is located at <a class="reference external" href="https://github.com/mhkit-code-hub/mhkit-python">https://github.com/mhkit-code-hub/mhkit-python</a> and
is intended to be used by researchers and practitioners that prefer Python.</p>
<p>The package contains the following modules:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#qc"><span class="std std-ref">QC Module</span></a>: Perform quality control analysis</p></li>
<li><p><a class="reference internal" href="#utils"><span class="std std-ref">Utils Module</span></a>: Includes helper functions</p></li>
<li><p><a class="reference internal" href="#wave"><span class="std std-ref">Wave Module</span></a>: Calculate quantities of interest for wave energy converters (WEC)</p></li>
<li><p><a class="reference internal" href="#river"><span class="std std-ref">River Module</span></a>: Calculate quantities of interest for river energy converters (REC)</p></li>
<li><p><a class="reference internal" href="#tidal"><span class="std std-ref">Tidal module</span></a>: Calculate quantities of interest for tidal energy converters (TEC)</p></li>
</ul>
<p>The package uses Pandas data objects to store data with labelled columns and rows.
This allows the user to keep track timestamp indexes and the type of data that is in each column.
Pandas includes many options to analyze data, including methods to slice, query, upscale, and plot data.
Additionally, Pandas includes many options to load data from a wide range of formats into Pandas data objects.
MHKiT-Python users that are new to Pandas are encouraged to review the
<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/getting_started/index.html">Pandas getting started guide</a>.</p>
<div class="section" id="installation">
<span id="id1"></span><h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>MHKiT-Python requires Python (tested on 3.6 and 3.7) along with several Python
package dependencies.  Information on installing and using Python can be found at
<a class="reference external" href="https://www.python.org/">https://www.python.org/</a>.  Python distributions, such as Anaconda,
are recommended to manage the Python interface.
Anaconda Python distributions include the Python packages needed to run MHKiT-Python.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Add user type guidance, e.g. user, developer, etc</p>
</div>
<p>MHKiT-Python can be installed using pip, git, or a downloaded zip file.</p>
<p><strong>pip:</strong> To install MHKiT-Python using pip:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">mhkit</span>
</pre></div>
</div>
<p><strong>git</strong>: To install MHKiT-Python using git:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">mhkit</span><span class="o">-</span><span class="n">code</span><span class="o">-</span><span class="n">hub</span><span class="o">/</span><span class="n">mhkit</span><span class="o">-</span><span class="n">python</span>
<span class="n">cd</span> <span class="n">mhkit</span><span class="o">-</span><span class="n">python</span>
<span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span>
</pre></div>
</div>
<p><strong>zip file</strong>: To install MHKiT-Python using a downloaded zip file, go to <a class="reference external" href="https://code.primre.org/mhkit/mhkit-python">https://code.primre.org/mhkit/mhkit-python</a>,
select the “Download” button and then select “Download zip”.
This downloads a zip file called mhkit-python-master.zip.
The software can then be installed by unzipping the file and running setup.py:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unzip</span> <span class="n">mhkit</span><span class="o">-</span><span class="n">python</span><span class="o">-</span><span class="n">master</span><span class="o">.</span><span class="n">zip</span>
<span class="n">cd</span> <span class="n">mhkit</span><span class="o">-</span><span class="n">python</span><span class="o">-</span><span class="n">master</span>
<span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span>
</pre></div>
</div>
<div class="section" id="requirements">
<h3>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h3>
<p>Required Python package dependencies include:</p>
<ul class="simple">
<li><p><strong>Pandas</strong>: used for data storage and analysis, <a class="reference external" href="http://pandas.pydata.org">http://pandas.pydata.org</a></p></li>
<li><p><strong>Numpy</strong>: used for data storage and analysis, <a class="reference external" href="http://www.numpy.org">http://www.numpy.org</a></p></li>
<li><p><strong>Scipy</strong>: used for numerical methods, statistics, and signal processing, <a class="reference external" href="https://docs.scipy.org">https://docs.scipy.org</a></p></li>
<li><p><strong>Matplotlib</strong>: used to produce figures, <a class="reference external" href="http://matplotlib.org">http://matplotlib.org</a></p></li>
<li><p><strong>Requests</strong>: used to get data from websites, <a class="reference external" href="https://requests.readthedocs.io/">https://requests.readthedocs.io/</a></p></li>
<li><p><strong>Pecos</strong>: used for quality control analysis, <a class="reference external" href="https://pecos.readthedocs.io/">https://pecos.readthedocs.io/</a></p></li>
</ul>
</div>
<div class="section" id="test-the-installation">
<h3>Test the installation<a class="headerlink" href="#test-the-installation" title="Permalink to this headline">¶</a></h3>
<p>To test that MHKiT-Python is installed correctly, open a Python console and run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mhkit</span>
</pre></div>
</div>
<p>If MHKiT-Python is installed properly, Python proceeds to the next line.
No other output is printed to the screen.</p>
<p>If MHKiT-Python is not installed properly, the user will see the following ImportError:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ne">ImportError</span><span class="p">:</span> <span class="n">No</span> <span class="n">module</span> <span class="n">named</span> <span class="n">mhkit</span>
</pre></div>
</div>
<p>To test a simple function in MHKiT-Python, the user can compute the equivalent
diameter and projected capture area of a circular turbine by running the following
code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">ED</span><span class="p">,</span> <span class="n">AP</span><span class="p">]</span> <span class="o">=</span> <span class="n">mhkit</span><span class="o">.</span><span class="n">river</span><span class="o">.</span><span class="n">circular</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="qc-module">
<span id="qc"></span><h2>QC Module<a class="headerlink" href="#qc-module" title="Permalink to this headline">¶</a></h2>
<p>Before using the methods in the Wave, River, and Tidal modules, the input data provided by the user should undergo
proper quality control analysis to ensure that the data is of high quality and fit for the intended purpose.
Quality control analysis often includes steps to ensure that data is
not missing, corrupt, or outside of the expected range.
Additional analysis can include checking for
stagnant readings, unusual abrupt changes, or outliers.
If data does not meet specified requirements, the data points that did not pass inspection should be
removed or replaced by various means (interpolation, data from a duplicate sensor, values from a model) before using the data in analysis.</p>
<p>The <a class="reference internal" href="#module-mhkit.qc" title="mhkit.qc"><code class="xref py py-class docutils literal notranslate"><span class="pre">qc</span></code></a> module contains a set of functions to for basic quality control analysis.
These functions are imported from <a class="reference external" href="https://pecos.readthedocs.io">Pecos</a>, an open source Python package
designed for quality control analysis of timeseries data.  Pecos was originally developed to monitor solar photovoltaic systems, but is designed to be used for a wide range of applications.</p>
<p>Note, that the quality control functions require that the data has a datatime index.
Other functionality in MHKiT-Python can use data that has datatime or numeric indexes.</p>
<div class="section" id="quality-control">
<h3>Quality control<a class="headerlink" href="#quality-control" title="Permalink to this headline">¶</a></h3>
<p>The following quality control functions are available in MHKiT-Python.
Additional functionality, including graphics and reports, can be included in quality control analysis by using Pecos directly. More information on the quality control functions be found at <a class="reference external" href="https://pecos.readthedocs.io">https://pecos.readthedocs.io</a>.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.qc.check_timestamp" title="mhkit.qc.check_timestamp"><code class="xref py py-obj docutils literal notranslate"><span class="pre">check_timestamp</span></code></a>(data, frequency[, …])</p></td>
<td><p>Check time series for missing, non-monotonic and duplicate timestamps</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mhkit.qc.check_missing" title="mhkit.qc.check_missing"><code class="xref py py-obj docutils literal notranslate"><span class="pre">check_missing</span></code></a>(data[, key, min_failures])</p></td>
<td><p>Check for missing data</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.qc.check_corrupt" title="mhkit.qc.check_corrupt"><code class="xref py py-obj docutils literal notranslate"><span class="pre">check_corrupt</span></code></a>(data, corrupt_values[, key, …])</p></td>
<td><p>Check for corrupt data</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mhkit.qc.check_range" title="mhkit.qc.check_range"><code class="xref py py-obj docutils literal notranslate"><span class="pre">check_range</span></code></a>(data, bound[, key, min_failures])</p></td>
<td><p>Check for data that is outside expected range</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.qc.check_delta" title="mhkit.qc.check_delta"><code class="xref py py-obj docutils literal notranslate"><span class="pre">check_delta</span></code></a>(data, bound[, key, window, …])</p></td>
<td><p>Check for stagant data and/or abrupt changes in the data using the difference between max and min values within a rolling window</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mhkit.qc.check_outlier" title="mhkit.qc.check_outlier"><code class="xref py py-obj docutils literal notranslate"><span class="pre">check_outlier</span></code></a>(data, bound[, key, window, …])</p></td>
<td><p>Check for outliers using normalized data within a rolling window</p></td>
</tr>
</tbody>
</table>
<p>Each function returns the following information:</p>
<ul class="simple">
<li><p>Cleaned data (data that failed a test is replaced by NaN)</p></li>
<li><p>Boolean mask (indicates if data failed a test)</p></li>
<li><p>Summary of the quality control test results</p></li>
</ul>
<p>The clean data can be used directly in MHKiT-Python analysis, or the missing values can be replaced using various methods.
Data replacement strategies are generally defined on a case by case basis. If large sections of the data failed quality control tests, the data might not be suitable for use.
Replacement strategies can be applied to the entire data set, or vary by data column or by time.
Possible strategies include:</p>
<ul class="simple">
<li><p>Replacing missing data using linear interpolation or other polynomial approximations</p></li>
<li><p>Replacing missing data using a rolling mean of the data</p></li>
<li><p>Replacing missing data with a data from a previous period (previous day, hour, etc.)</p></li>
<li><p>Replacing missing data with data from a redundant sensor</p></li>
<li><p>Replacing missing data with values from a model</p></li>
</ul>
<p>These strategies can be accomplished using the Pandas methods <code class="docutils literal notranslate"><span class="pre">interpolate</span></code>, <code class="docutils literal notranslate"><span class="pre">replace</span></code>, and <code class="docutils literal notranslate"><span class="pre">fillna</span></code>.
See Pandas documentation for more details.</p>
<p>The <a class="reference external" href="examples/qc_example.html">quality control analysis</a> example illustrates quality control analysis using MHK data.</p>
</div>
</div>
<div class="section" id="utils-module">
<span id="utils"></span><h2>Utils Module<a class="headerlink" href="#utils-module" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Add utils descriptor</p>
</div>
<div class="section" id="datetime-indices">
<h3>Datetime indices<a class="headerlink" href="#datetime-indices" title="Permalink to this headline">¶</a></h3>
<p>MHKiT-Python includes a utility function in the <a class="reference internal" href="#module-mhkit.utils" title="mhkit.utils"><code class="xref py py-class docutils literal notranslate"><span class="pre">utils</span></code></a> module that converts numeric indexes into datetime indexes.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.utils.index_to_datetime" title="mhkit.utils.index_to_datetime"><code class="xref py py-obj docutils literal notranslate"><span class="pre">index_to_datetime</span></code></a>(index[, unit, origin])</p></td>
<td><p>Convert DataFrame index from int/float to datetime, rounds datetime to the nearest millisecond</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="wave-module">
<span id="wave"></span><h2>Wave Module<a class="headerlink" href="#wave-module" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#module-mhkit.wave" title="mhkit.wave"><code class="xref py py-class docutils literal notranslate"><span class="pre">wave</span></code></a> module contains a set of functions to
calculate quantities of interest for wave energy converters (WEC).
The wave module contains the following submodules:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#module-mhkit.wave.io" title="mhkit.wave.io"><code class="xref py py-class docutils literal notranslate"><span class="pre">io</span></code></a>: Loads data from standard formats</p></li>
<li><p><a class="reference internal" href="#module-mhkit.wave.resource" title="mhkit.wave.resource"><code class="xref py py-class docutils literal notranslate"><span class="pre">resource</span></code></a>: Computes resource metrics such as spectra and significant wave height</p></li>
<li><p><a class="reference internal" href="#module-mhkit.wave.performance" title="mhkit.wave.performance"><code class="xref py py-class docutils literal notranslate"><span class="pre">performance</span></code></a>: Computes performance metrics such as capture length matrix and mean annual energy production</p></li>
<li><p><a class="reference internal" href="#module-mhkit.wave.graphics" title="mhkit.wave.graphics"><code class="xref py py-class docutils literal notranslate"><span class="pre">graphics</span></code></a>: Generates graphics</p></li>
</ul>
<div class="section" id="data-formats">
<h3>Data formats<a class="headerlink" href="#data-formats" title="Permalink to this headline">¶</a></h3>
<p>The wave module uses wave elevation time series data and spectra data.</p>
<ul class="simple">
<li><p><strong>Wave elevation time series data</strong> is stored as a pandas DataFrame indexed by time.
Time can be specified in datetime or in seconds.  The column names
describe the type of data in each column (for example, data from multiple sensors).</p></li>
<li><p><strong>Spectra data</strong> is stored as a pandas DataFrame index by frequency in Hz. The column names
describe the type of data in each column (for example, Bretschneider and JONSWAP spectra).</p></li>
</ul>
<p>Note that spectra data is sometimes stored in time series format (data indexed by time, with one
column for each frequency).  To convert time series format to the spectra data format,
use the pandas method <code class="docutils literal notranslate"><span class="pre">transpose</span></code>.</p>
</div>
<div class="section" id="io">
<h3>IO<a class="headerlink" href="#io" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-mhkit.wave.io" title="mhkit.wave.io"><code class="xref py py-class docutils literal notranslate"><span class="pre">io</span></code></a> submodule contains the following function to load National Data Buoy Center (NDBC)
data file into a pandas DataFrame, including real time and historical data.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.wave.io.read_NDBC_file" title="mhkit.wave.io.read_NDBC_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_NDBC_file</span></code></a>(file_name[, missing_values])</p></td>
<td><p>Reads a NDBC wave buoy data file (from <a class="reference external" href="https://www.ndbc.noaa.gov">https://www.ndbc.noaa.gov</a>) into a DataFrame.</p></td>
</tr>
</tbody>
</table>
<p>Pandas includes many options to load data in other formats directly into a DataFrame.</p>
</div>
<div class="section" id="resource">
<h3>Resource<a class="headerlink" href="#resource" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-mhkit.wave.resource" title="mhkit.wave.resource"><code class="xref py py-class docutils literal notranslate"><span class="pre">resource</span></code></a> submodule contains functions compute wave energy spectra and metrics.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Are these tables helpful if they are in the API doc? Kelley things a general overview and then link to API doc would be more helpful</p>
</div>
<p>The following functions can be used to compute wave energy spectra:</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.wave.resource.elevation_spectrum" title="mhkit.wave.resource.elevation_spectrum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">elevation_spectrum</span></code></a>(eta, sample_rate, nnft[, …])</p></td>
<td><p>Calculates the wave energy spectrum from wave elevation time series</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mhkit.wave.resource.pierson_moskowitz_spectrum" title="mhkit.wave.resource.pierson_moskowitz_spectrum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pierson_moskowitz_spectrum</span></code></a>(f, Tp)</p></td>
<td><p>Calculates Pierson-Moskowitz Spectrum from Tucker and Pitt (2001)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.wave.resource.bretschneider_spectrum" title="mhkit.wave.resource.bretschneider_spectrum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bretschneider_spectrum</span></code></a>(f, Tp, Hs)</p></td>
<td><p>Calculates Bretschneider Sprectrum from Tucker and Pitt (2001)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mhkit.wave.resource.jonswap_spectrum" title="mhkit.wave.resource.jonswap_spectrum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">jonswap_spectrum</span></code></a>(f, Tp, Hs[, gamma])</p></td>
<td><p>Calculates JONSWAP spectrum from Hasselmann et al (1973)</p></td>
</tr>
</tbody>
</table>
<p>The following functions can be used to compute wave metrics from spectra:</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.wave.resource.surface_elevation" title="mhkit.wave.resource.surface_elevation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">surface_elevation</span></code></a>(S, time_index[, seed])</p></td>
<td><p>Calculates wave elevation time series from spectrum using a random phase</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mhkit.wave.resource.frequency_moment" title="mhkit.wave.resource.frequency_moment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">frequency_moment</span></code></a>(S, N)</p></td>
<td><p>Calculates the Nth frequency moment of the spectrum</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.wave.resource.significant_wave_height" title="mhkit.wave.resource.significant_wave_height"><code class="xref py py-obj docutils literal notranslate"><span class="pre">significant_wave_height</span></code></a>(S)</p></td>
<td><p>Calculates wave height from spectra</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mhkit.wave.resource.average_zero_crossing_period" title="mhkit.wave.resource.average_zero_crossing_period"><code class="xref py py-obj docutils literal notranslate"><span class="pre">average_zero_crossing_period</span></code></a>(S)</p></td>
<td><p>Calculates wave average zero crossing period from spectra</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.wave.resource.average_crest_period" title="mhkit.wave.resource.average_crest_period"><code class="xref py py-obj docutils literal notranslate"><span class="pre">average_crest_period</span></code></a>(S)</p></td>
<td><p>Calculates wave average crest period from spectra</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mhkit.wave.resource.average_wave_period" title="mhkit.wave.resource.average_wave_period"><code class="xref py py-obj docutils literal notranslate"><span class="pre">average_wave_period</span></code></a>(S)</p></td>
<td><p>Calculates mean wave period from spectra</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.wave.resource.peak_period" title="mhkit.wave.resource.peak_period"><code class="xref py py-obj docutils literal notranslate"><span class="pre">peak_period</span></code></a>(S)</p></td>
<td><p>Calculates wave energy period from spectra</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mhkit.wave.resource.energy_period" title="mhkit.wave.resource.energy_period"><code class="xref py py-obj docutils literal notranslate"><span class="pre">energy_period</span></code></a>(S)</p></td>
<td><p>Calculates wave energy period from spectra</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.wave.resource.spectral_bandwidth" title="mhkit.wave.resource.spectral_bandwidth"><code class="xref py py-obj docutils literal notranslate"><span class="pre">spectral_bandwidth</span></code></a>(S)</p></td>
<td><p>Calculates bandwidth from spectra</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mhkit.wave.resource.spectral_width" title="mhkit.wave.resource.spectral_width"><code class="xref py py-obj docutils literal notranslate"><span class="pre">spectral_width</span></code></a>(S)</p></td>
<td><p>Calculates wave spectral width from spectra</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.wave.resource.energy_flux" title="mhkit.wave.resource.energy_flux"><code class="xref py py-obj docutils literal notranslate"><span class="pre">energy_flux</span></code></a>(S, h[, rho, g])</p></td>
<td><p>Calculates the omnidirectional wave energy flux of the spectra</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mhkit.wave.resource.wave_celerity" title="mhkit.wave.resource.wave_celerity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">wave_celerity</span></code></a>(k, h[, g])</p></td>
<td><p>Calculates wave celerity (group velocity)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.wave.resource.wave_number" title="mhkit.wave.resource.wave_number"><code class="xref py py-obj docutils literal notranslate"><span class="pre">wave_number</span></code></a>(f, h[, rho, g])</p></td>
<td><p>Calculates wave number</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="performance">
<h3>Performance<a class="headerlink" href="#performance" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-mhkit.wave.performance" title="mhkit.wave.performance"><code class="xref py py-class docutils literal notranslate"><span class="pre">performance</span></code></a> submodule contains functions to compute capture length, statistics,
performance matrices, and mean annual energy production.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.wave.performance.capture_length" title="mhkit.wave.performance.capture_length"><code class="xref py py-obj docutils literal notranslate"><span class="pre">capture_length</span></code></a>(P, J)</p></td>
<td><p>Calculates the capture length (often called capture width).</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mhkit.wave.performance.statistics" title="mhkit.wave.performance.statistics"><code class="xref py py-obj docutils literal notranslate"><span class="pre">statistics</span></code></a>(X)</p></td>
<td><p>Calculates statistics, including count, mean, standard deviation (std), min, percentiles (25%, 50%, 75%), and max.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.wave.performance.capture_length_matrix" title="mhkit.wave.performance.capture_length_matrix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">capture_length_matrix</span></code></a>(Hm0, Te, L, statistic, …)</p></td>
<td><p>Generates a capture length matrix for a given statistic</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mhkit.wave.performance.wave_energy_flux_matrix" title="mhkit.wave.performance.wave_energy_flux_matrix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">wave_energy_flux_matrix</span></code></a>(Hm0, Te, J, …)</p></td>
<td><p>Generates a wave energy flux matrix for a given statistic</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.wave.performance.power_matrix" title="mhkit.wave.performance.power_matrix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">power_matrix</span></code></a>(LM, JM)</p></td>
<td><p>Generates a power matrix from a capture length matrix and wave energy flux matrix</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mhkit.wave.performance.mean_annual_energy_production_timeseries" title="mhkit.wave.performance.mean_annual_energy_production_timeseries"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mean_annual_energy_production_timeseries</span></code></a>(L, J)</p></td>
<td><p>Calculates mean annual energy production (MAEP) from timeseries</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.wave.performance.mean_annual_energy_production_matrix" title="mhkit.wave.performance.mean_annual_energy_production_matrix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mean_annual_energy_production_matrix</span></code></a>(LM, JM, …)</p></td>
<td><p>Calculates mean annual energy production (MAEP) from matrix data along with data frequency in each bin</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="graphics">
<h3>Graphics<a class="headerlink" href="#graphics" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-mhkit.wave.graphics" title="mhkit.wave.graphics"><code class="xref py py-class docutils literal notranslate"><span class="pre">graphics</span></code></a> submodule contains functions to plot wave data and related metrics.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.wave.graphics.plot_elevation_timeseries" title="mhkit.wave.graphics.plot_elevation_timeseries"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_elevation_timeseries</span></code></a>(eta[, ax])</p></td>
<td><p>Plot wave surface elevation time series</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mhkit.wave.graphics.plot_spectrum" title="mhkit.wave.graphics.plot_spectrum"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_spectrum</span></code></a>(S[, ax])</p></td>
<td><p>Plots wave amplitude spectrum versus omega</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.wave.graphics.plot_matrix" title="mhkit.wave.graphics.plot_matrix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_matrix</span></code></a>(M[, xlabel, ylabel, zlabel, …])</p></td>
<td><p>Plots values in the matrix as a scatter diagram</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="river-module">
<span id="river"></span><h2>River Module<a class="headerlink" href="#river-module" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#module-mhkit.river" title="mhkit.river"><code class="xref py py-class docutils literal notranslate"><span class="pre">river</span></code></a> module contains a set of functions to
calculate quantities of interest for river energy converters (REC).
The river module contains the following submodules:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#module-mhkit.river.io" title="mhkit.river.io"><code class="xref py py-class docutils literal notranslate"><span class="pre">io</span></code></a>: Loads data from standard formats</p></li>
<li><p><a class="reference internal" href="#module-mhkit.river.resource" title="mhkit.river.resource"><code class="xref py py-class docutils literal notranslate"><span class="pre">resource</span></code></a>: Computes resource metrics such as exceedance probability, velocity, and power</p></li>
<li><p><a class="reference internal" href="#module-mhkit.river.device" title="mhkit.river.device"><code class="xref py py-class docutils literal notranslate"><span class="pre">device</span></code></a>: Computes device metrics such as equivalent diameter and capture area</p></li>
<li><p><a class="reference internal" href="#module-mhkit.river.graphics" title="mhkit.river.graphics"><code class="xref py py-class docutils literal notranslate"><span class="pre">graphics</span></code></a>: Generates graphics</p></li>
</ul>
<div class="section" id="data-format">
<h3>Data format<a class="headerlink" href="#data-format" title="Permalink to this headline">¶</a></h3>
<p>The river module uses discharge data.
<strong>Note, IEC/TS 62600-100 recommends that river resource calculations use 10 years of daily discharge data.</strong></p>
<ul class="simple">
<li><p><strong>Discharge time series data</strong> is stored as a pandas DataFrame indexed by time.
Time can be specified in datetime or in seconds.  The column names describe the type of data in each column.</p></li>
</ul>
</div>
<div class="section" id="id2">
<h3>IO<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-mhkit.river.io" title="mhkit.river.io"><code class="xref py py-class docutils literal notranslate"><span class="pre">io</span></code></a> submodule contains the following functions to
load USGS Discharge data into a pandas DataFrame.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.river.io.read_usgs_file" title="mhkit.river.io.read_usgs_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_usgs_file</span></code></a>(file_name)</p></td>
<td><p>Reads a USGS JSON data file (from <a class="reference external" href="https://waterdata.usgs.gov/nwis">https://waterdata.usgs.gov/nwis</a>) into a pandas DataFrame</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mhkit.river.io.request_usgs_data" title="mhkit.river.io.request_usgs_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">request_usgs_data</span></code></a>(station, parameter, …[, …])</p></td>
<td><p>Loads USGS data directly from <a class="reference external" href="https://waterdata.usgs.gov/nwis">https://waterdata.usgs.gov/nwis</a> using a GET request into a pandas DataFrame</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id3">
<h3>Resource<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-mhkit.river.resource" title="mhkit.river.resource"><code class="xref py py-class docutils literal notranslate"><span class="pre">resource</span></code></a> submodule uses discharge data to compute
exeedance probability, velocity, and power.  The module also contains functions
to compute the Froude number and to fit a polynomial to a series of points.
The polynomial is used to estimate the relationship between discharge and velocity
or velocity and power at an individual turbine.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.river.resource.Froude_number" title="mhkit.river.resource.Froude_number"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Froude_number</span></code></a>(v, h[, g])</p></td>
<td><p>Calculate the Froude Number of the river, channel or duct flow, to check subcritical flow assumption (if Fr &lt;1).</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mhkit.river.resource.polynomial_fit" title="mhkit.river.resource.polynomial_fit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">polynomial_fit</span></code></a>(x, y, n)</p></td>
<td><p>Returns a polynomial fit for y given x of order n with an R-squared score of the fit</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.river.resource.exceedance_probability" title="mhkit.river.resource.exceedance_probability"><code class="xref py py-obj docutils literal notranslate"><span class="pre">exceedance_probability</span></code></a>(D)</p></td>
<td><p>Calculates the exceedance probability</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mhkit.river.resource.discharge_to_velocity" title="mhkit.river.resource.discharge_to_velocity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">discharge_to_velocity</span></code></a>(D, polynomial_coefficients)</p></td>
<td><p>Calculates velocity given discharge data and the relationship between discharge and velocity at an individual turbine</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.river.resource.velocity_to_power" title="mhkit.river.resource.velocity_to_power"><code class="xref py py-obj docutils literal notranslate"><span class="pre">velocity_to_power</span></code></a>(V, …)</p></td>
<td><p>Calculates power given velocity data and the relationship between velocity and power from an individual turbine</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="device">
<h3>Device<a class="headerlink" href="#device" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-mhkit.river.device" title="mhkit.river.device"><code class="xref py py-class docutils literal notranslate"><span class="pre">device</span></code></a> submodule contains functions to compute equivalent diameter
and capture area for circular, ducted, rectangular, adn multiple circular devices.
A circular device is a vertical axis water turbine (VAWT). A
rectangular device is a horizontal axis water turbine. A ducted device
is an enclosed VAWT. A multiple-circular devices is a device with
multiple VAWTs per device.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.river.device.circular" title="mhkit.river.device.circular"><code class="xref py py-obj docutils literal notranslate"><span class="pre">circular</span></code></a>(diameter)</p></td>
<td><p>Calculates the equivalent diameter and projected capture area of a circular turbine</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mhkit.river.device.ducted" title="mhkit.river.device.ducted"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ducted</span></code></a>(duct_diameter)</p></td>
<td><p>Calculates the equivalent diameter and projected capture area of a ducted turbine</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.river.device.rectangular" title="mhkit.river.device.rectangular"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rectangular</span></code></a>(h, w)</p></td>
<td><p>Calculates the equivalent diameter and projected capture area of a retangular turbine</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mhkit.river.device.multiple_circular" title="mhkit.river.device.multiple_circular"><code class="xref py py-obj docutils literal notranslate"><span class="pre">multiple_circular</span></code></a>(diameters)</p></td>
<td><p>Calculates the equivalent diameter and projected capture area of a multiple circular turbine</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id4">
<h3>Graphics<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#module-mhkit.river.graphics" title="mhkit.river.graphics"><code class="xref py py-class docutils literal notranslate"><span class="pre">graphics</span></code></a> submodule contains functions to plot river data and related metrics.
The functions are designed to work in parallel with the <a class="reference internal" href="#module-mhkit.river.resource" title="mhkit.river.resource"><code class="xref py py-class docutils literal notranslate"><span class="pre">resource</span></code></a> submodule.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.river.graphics.plot_flow_duration_curve" title="mhkit.river.graphics.plot_flow_duration_curve"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_flow_duration_curve</span></code></a>(D, F[, label, ax])</p></td>
<td><p>Plots discharge vs exceedance probability as a Flow Duration Curve (FDC)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mhkit.river.graphics.plot_velocity_duration_curve" title="mhkit.river.graphics.plot_velocity_duration_curve"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_velocity_duration_curve</span></code></a>(V, F[, label, ax])</p></td>
<td><p>Plots velocity vs exceedance probability as a Velocity Duration Curve (VDC)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.river.graphics.plot_power_duration_curve" title="mhkit.river.graphics.plot_power_duration_curve"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_power_duration_curve</span></code></a>(P, F[, label, ax])</p></td>
<td><p>Plots power vs exceedance probability as a Power Duration Curve (PDC)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mhkit.river.graphics.plot_discharge_timeseries" title="mhkit.river.graphics.plot_discharge_timeseries"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_discharge_timeseries</span></code></a>(Q[, label, ax])</p></td>
<td><p>Plots discharge timeseries</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mhkit.river.graphics.plot_discharge_vs_velocity" title="mhkit.river.graphics.plot_discharge_vs_velocity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_discharge_vs_velocity</span></code></a>(D, V[, …])</p></td>
<td><p>Plots discharge vs velocity data along with the polynomial fit</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mhkit.river.graphics.plot_velocity_vs_power" title="mhkit.river.graphics.plot_velocity_vs_power"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_velocity_vs_power</span></code></a>(V, P[, …])</p></td>
<td><p>Plots velocity vs power data along with the polynomial fit</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="tidal-module">
<span id="tidal"></span><h2>Tidal module<a class="headerlink" href="#tidal-module" title="Permalink to this headline">¶</a></h2>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">tidal</span></code> module is in development and will contain a set of functions to help the user
calculate relevant quantities of interest for tidal energy converters (TEC).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Add matlab documentation from Sterling</p>
</div>
</div>
<div class="section" id="api-documentation">
<span id="id5"></span><h2>API documentation<a class="headerlink" href="#api-documentation" title="Permalink to this headline">¶</a></h2>
<p>The package contains the following modules:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#qc-api"><span class="std std-ref">QC Module</span></a>: Perform quality control analysis</p></li>
<li><p><a class="reference internal" href="#utils-api"><span class="std std-ref">Utils Module</span></a>: Includes helper functions</p></li>
<li><p><a class="reference internal" href="#wave-api"><span class="std std-ref">Wave Module</span></a>: Calculate quantities of interest for wave energy converters (WEC)</p></li>
<li><p><a class="reference internal" href="#river-api"><span class="std std-ref">River Module</span></a>: Calculate quantities of interest for river energy converters (REC)</p></li>
<li><p><a class="reference internal" href="#tidal-api"><span class="std std-ref">Tidal Module</span></a>: Calculate quantities of interest for tidal energy converters (TEC)</p></li>
</ul>
<div class="section" id="qc-api">
<span id="id6"></span><h3>QC Module<a class="headerlink" href="#qc-api" title="Permalink to this headline">¶</a></h3>
<p>The QC module includes quality control functions from Pecos, see <a class="reference external" href="https://pecos.readthedocs.io">https://pecos.readthedocs.io</a> for more details.</p>
<span class="target" id="module-mhkit.qc"></span><dl class="function">
<dt id="mhkit.qc.check_timestamp">
<code class="sig-prename descclassname">mhkit.qc.</code><code class="sig-name descname">check_timestamp</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">frequency</em>, <em class="sig-param">expected_start_time=None</em>, <em class="sig-param">expected_end_time=None</em>, <em class="sig-param">min_failures=1</em>, <em class="sig-param">exact_times=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pecos/monitoring.html#check_timestamp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.qc.check_timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>Check time series for missing, non-monotonic and duplicate
timestamps</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pandas DataFrame</em>) – Data used in the quality control test, indexed by datetime</p></li>
<li><p><strong>frequency</strong> (<em>int</em>) – Expected time series frequency, in seconds</p></li>
<li><p><strong>expected_start_time</strong> (<em>Timestamp</em><em> (</em><em>optional</em><em>)</em>) – Expected start time. If not specified, the minimum timestamp
is used</p></li>
<li><p><strong>expected_end_time</strong> (<em>Timestamp</em><em> (</em><em>optional</em><em>)</em>) – Expected end time. If not specified, the maximum timestamp
is used</p></li>
<li><p><strong>min_failures</strong> (<em>int</em><em> (</em><em>optional</em><em>)</em>) – Minimum number of consecutive failures required for
reporting, default = 1</p></li>
<li><p><strong>exact_times</strong> (<em>bool</em><em> (</em><em>optional</em><em>)</em>) – Controls how missing times are checked.
If True, times are expected to occur at regular intervals
(specified in frequency) and the DataFrame is reindexed to match
the expected frequency.
If False, times only need to occur once or more within each
interval (specified in frequency) and the DataFrame is not
reindexed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Results include cleaned data, mask, and test results summary</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dictionary</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.qc.check_missing">
<code class="sig-prename descclassname">mhkit.qc.</code><code class="sig-name descname">check_missing</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">key=None</em>, <em class="sig-param">min_failures=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pecos/monitoring.html#check_missing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.qc.check_missing" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for missing data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pandas DataFrame</em>) – Data used in the quality control test, indexed by datetime</p></li>
<li><p><strong>key</strong> (<em>string</em><em> (</em><em>optional</em><em>)</em>) – Data column name or translation dictionary key. If not specified,
all columns are used in the test.</p></li>
<li><p><strong>min_failures</strong> (<em>int</em><em> (</em><em>optional</em><em>)</em>) – Minimum number of consecutive failures required for reporting,
default = 1</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Results include cleaned data, mask, and test results summary</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dictionary</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.qc.check_corrupt">
<code class="sig-prename descclassname">mhkit.qc.</code><code class="sig-name descname">check_corrupt</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">corrupt_values</em>, <em class="sig-param">key=None</em>, <em class="sig-param">min_failures=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pecos/monitoring.html#check_corrupt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.qc.check_corrupt" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for corrupt data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pandas DataFrame</em>) – Data used in the quality control test, indexed by datetime</p></li>
<li><p><strong>corrupt_values</strong> (<em>list of floats</em>) – List of corrupt data values</p></li>
<li><p><strong>key</strong> (<em>string</em><em> (</em><em>optional</em><em>)</em>) – Data column name or translation dictionary key. If not specified,
all columns are used in the test.</p></li>
<li><p><strong>min_failures</strong> (<em>int</em><em> (</em><em>optional</em><em>)</em>) – Minimum number of consecutive failures required for reporting,
default = 1</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Results include cleaned data, mask, and test results summary</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dictionary</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.qc.check_range">
<code class="sig-prename descclassname">mhkit.qc.</code><code class="sig-name descname">check_range</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">bound</em>, <em class="sig-param">key=None</em>, <em class="sig-param">min_failures=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pecos/monitoring.html#check_range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.qc.check_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for data that is outside expected range</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pandas DataFrame</em>) – Data used in the quality control test, indexed by datetime</p></li>
<li><p><strong>bound</strong> (<em>list of floats</em>) – [lower bound, upper bound], None can be used in place of a lower
or upper bound</p></li>
<li><p><strong>key</strong> (<em>string</em><em> (</em><em>optional</em><em>)</em>) – Data column name or translation dictionary key.  If not specified,
all columns are used in the test.</p></li>
<li><p><strong>min_failures</strong> (<em>int</em><em> (</em><em>optional</em><em>)</em>) – Minimum number of consecutive failures required for reporting,
default = 1</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Results include cleaned data, mask, and test results summary</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dictionary</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.qc.check_delta">
<code class="sig-prename descclassname">mhkit.qc.</code><code class="sig-name descname">check_delta</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">bound</em>, <em class="sig-param">key=None</em>, <em class="sig-param">window=3600</em>, <em class="sig-param">absolute_value=True</em>, <em class="sig-param">min_failures=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pecos/monitoring.html#check_delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.qc.check_delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for stagant data and/or abrupt changes in the data using the
difference between max and min values within a rolling window</p>
<p>Note, this method is currently NOT efficient for large
data sets (&gt; 100000 pts) because it uses df.rolling().apply() to find
the position of the min and max). This method requires pandas 0.23 or greater.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pandas DataFrame</em>) – Data used in the quality control test, indexed by datetime</p></li>
<li><p><strong>bound</strong> (<em>list of floats</em>) – [lower bound, upper bound], None can be used in place of a lower
or upper bound</p></li>
<li><p><strong>key</strong> (<em>string</em><em> (</em><em>optional</em><em>)</em>) – Data column name or translation dictionary key. If not specified,
all columns are used in the test.</p></li>
<li><p><strong>window</strong> (<em>int</em><em> (</em><em>optional</em><em>)</em>) – Size of the rolling window (in seconds) used to compute delta,
default = 3600</p></li>
<li><p><strong>absolute_value</strong> (<em>boolean</em><em> (</em><em>optional</em><em>)</em>) – Use the absolute value of delta, default = True</p></li>
<li><p><strong>min_failures</strong> (<em>int</em><em> (</em><em>optional</em><em>)</em>) – Minimum number of consecutive failures required for reporting,
default = 1</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Results include cleaned data, mask, and test results summary</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dictionary</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.qc.check_outlier">
<code class="sig-prename descclassname">mhkit.qc.</code><code class="sig-name descname">check_outlier</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">bound</em>, <em class="sig-param">key=None</em>, <em class="sig-param">window=3600</em>, <em class="sig-param">absolute_value=True</em>, <em class="sig-param">min_failures=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pecos/monitoring.html#check_outlier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.qc.check_outlier" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for outliers using normalized data within a rolling window</p>
<p>The upper and lower bounds are specified in standard deviations.
Data normalized using (data-mean)/std.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pandas DataFrame</em>) – Data used in the quality control test, indexed by datetime</p></li>
<li><p><strong>bound</strong> (<em>list of floats</em>) – [lower bound, upper bound], None can be used in place of a lower
or upper bound</p></li>
<li><p><strong>key</strong> (<em>string</em><em> (</em><em>optional</em><em>)</em>) – Data column name or translation dictionary key. If not specified,
all columns are used in the test.</p></li>
<li><p><strong>window</strong> (<em>int</em><em> or </em><em>None</em><em> (</em><em>optional</em><em>)</em>) – Size of the rolling window (in seconds) used to normalize data,
default = 3600.  If window is set to None, data is normalized using
the entire data sets mean and standard deviation (column by column).</p></li>
<li><p><strong>absolute_value</strong> (<em>boolean</em><em> (</em><em>optional</em><em>)</em>) – Use the absolute value the normalized data, default = True</p></li>
<li><p><strong>min_failures</strong> (<em>int</em><em> (</em><em>optional</em><em>)</em>) – Minimum number of consecutive failures required for reporting,
default = 1</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Results include cleaned data, mask, and test results summary</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dictionary</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="utils-api">
<span id="id7"></span><h3>Utils Module<a class="headerlink" href="#utils-api" title="Permalink to this headline">¶</a></h3>
<p>The utils module includes helper functions</p>
<span class="target" id="module-mhkit.utils"></span><dl class="function">
<dt id="mhkit.utils.index_to_datetime">
<code class="sig-prename descclassname">mhkit.utils.</code><code class="sig-name descname">index_to_datetime</code><span class="sig-paren">(</span><em class="sig-param">index</em>, <em class="sig-param">unit='s'</em>, <em class="sig-param">origin='unix'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pecos/utils.html#index_to_datetime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.utils.index_to_datetime" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert DataFrame index from int/float to datetime,
rounds datetime to the nearest millisecond</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<em>pandas Index</em>) – DataFrame index in int or float</p></li>
<li><p><strong>unit</strong> (<em>str</em><em> (</em><em>optional</em><em>)</em>) – Units of the original index</p></li>
<li><p><strong>origin</strong> (<em>str</em>) – Reference date used to define the starting time.
If origin = ‘unix’, the start time is ‘1970-01-01 00:00:00’
The origin can also be defined using a datetime string in a similar
format (i.e. ‘2019-05-17 16:05:45’)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DataFrame index in datetime</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas Index</p>
</dd>
</dl>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Is <cite>utils</cite> part of QC?</p>
</div>
</div>
<div class="section" id="wave-api">
<span id="id8"></span><h3>Wave Module<a class="headerlink" href="#wave-api" title="Permalink to this headline">¶</a></h3>
<p>The wave module contains a set of functions to
calculate quantities of interest for wave energy converters (WEC).</p>
<span class="target" id="module-mhkit.wave"></span><div class="section" id="id9">
<h4>IO<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h4>
<span class="target" id="module-mhkit.wave.io"></span><dl class="function">
<dt id="mhkit.wave.io.read_NDBC_file">
<code class="sig-prename descclassname">mhkit.wave.io.</code><code class="sig-name descname">read_NDBC_file</code><span class="sig-paren">(</span><em class="sig-param">file_name, missing_values=['MM', 9999, 999, 99]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/wave/io.html#read_NDBC_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.wave.io.read_NDBC_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a NDBC wave buoy data file (from <a class="reference external" href="https://www.ndbc.noaa.gov">https://www.ndbc.noaa.gov</a>) into a
DataFrame.</p>
<p>Realtime and historical data files can be loaded with this function.</p>
<p>Note: With realtime data, missing data is denoted by “MM”.  With historical
data, missing data is denoted using a variable number of
# 9’s, depending on the data type (for example: 9999.0 999.0 99.0).
‘N/A’ is automatically converted to missing data.</p>
<p>Data values are converted to float/int when possible. Column names are
also converted to float/int when possible (this is useful when column
names are frequency).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<em>string</em>) – Name of NDBC wave buoy data file</p></li>
<li><p><strong>missing_value</strong> (<em>list of values</em>) – List of values that denote missing data</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>data</strong> (<em>pandas DataFrame</em>) – Data indexed by datetime with columns named according to header row</p></li>
<li><p><strong>metadata</strong> (<em>dict or None</em>) – Dictionary with {column name: units} key value pairs when the NDBC file
contains unit information, otherwise None is returned</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="id10">
<h4>Resource<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h4>
<span class="target" id="module-mhkit.wave.resource"></span><dl class="function">
<dt id="mhkit.wave.resource.average_crest_period">
<code class="sig-prename descclassname">mhkit.wave.resource.</code><code class="sig-name descname">average_crest_period</code><span class="sig-paren">(</span><em class="sig-param">S</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/wave/resource.html#average_crest_period"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.wave.resource.average_crest_period" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates wave average crest period from spectra</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>S</strong> (<em>pandas DataFrame</em>) – Spectral density [m^2/Hz] indexed by frequency [Hz]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Tavg</strong> – Average wave period [s] indexed by S.columns</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.wave.resource.average_wave_period">
<code class="sig-prename descclassname">mhkit.wave.resource.</code><code class="sig-name descname">average_wave_period</code><span class="sig-paren">(</span><em class="sig-param">S</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/wave/resource.html#average_wave_period"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.wave.resource.average_wave_period" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates mean wave period from spectra</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>S</strong> (<em>pandas DataFrame</em>) – Spectral density [m^2/Hz] indexed by frequency [Hz]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Tm</strong> – Mean wave period [s] indexed by S.columns</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.wave.resource.average_zero_crossing_period">
<code class="sig-prename descclassname">mhkit.wave.resource.</code><code class="sig-name descname">average_zero_crossing_period</code><span class="sig-paren">(</span><em class="sig-param">S</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/wave/resource.html#average_zero_crossing_period"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.wave.resource.average_zero_crossing_period" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates wave average zero crossing period from spectra</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>S</strong> (<em>pandas DataFrame</em>) – Spectral density [m^2/Hz] indexed by frequency [Hz]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Tz</strong> – Average zero crossing period [s] indexed by S.columns</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.wave.resource.bretschneider_spectrum">
<code class="sig-prename descclassname">mhkit.wave.resource.</code><code class="sig-name descname">bretschneider_spectrum</code><span class="sig-paren">(</span><em class="sig-param">f</em>, <em class="sig-param">Tp</em>, <em class="sig-param">Hs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/wave/resource.html#bretschneider_spectrum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.wave.resource.bretschneider_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates Bretschneider Sprectrum from Tucker and Pitt (2001)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> (<em>numpy array</em>) – Frequency [Hz]</p></li>
<li><p><strong>Tp</strong> (<em>float/int</em>) – Peak period [s]</p></li>
<li><p><strong>Hs</strong> (<em>float/int</em>) – Significant wave height [m]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>S</strong> – Spectral density [m^2/Hz] indexed by frequency [Hz]</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.wave.resource.elevation_spectrum">
<code class="sig-prename descclassname">mhkit.wave.resource.</code><code class="sig-name descname">elevation_spectrum</code><span class="sig-paren">(</span><em class="sig-param">eta</em>, <em class="sig-param">sample_rate</em>, <em class="sig-param">nnft</em>, <em class="sig-param">window='hamming'</em>, <em class="sig-param">detrend=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/wave/resource.html#elevation_spectrum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.wave.resource.elevation_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the wave energy spectrum from wave elevation time series</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eta</strong> (<em>pandas DataFrame</em>) – Wave surface elevation [m] indexed by time [datetime or s]</p></li>
<li><p><strong>sample_rate</strong> (<em>float</em>) – Data frequency [Hz]</p></li>
<li><p><strong>nnft</strong> (<em>integer</em>) – Number of bins in the Fast Fourier Transform</p></li>
<li><p><strong>window</strong> (<em>string</em><em> (</em><em>optional</em><em>)</em>) – Signal window type. ‘hamming’ is used by default given the broadband
nature of waves. See scipy.signal.get_window for more options.</p></li>
<li><p><strong>detrend</strong> (<em>bool</em><em> (</em><em>optional</em><em>)</em>) – Specifies if a linear trend is removed from the data before calculating
the wave energy spectrum.  Data is detrended by default.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>S</strong> – Spectral density [m^2/Hz] indexed by frequency [Hz]</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.wave.resource.energy_flux">
<code class="sig-prename descclassname">mhkit.wave.resource.</code><code class="sig-name descname">energy_flux</code><span class="sig-paren">(</span><em class="sig-param">S</em>, <em class="sig-param">h</em>, <em class="sig-param">rho=1025</em>, <em class="sig-param">g=9.80665</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/wave/resource.html#energy_flux"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.wave.resource.energy_flux" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the omnidirectional wave energy flux of the spectra</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> (<em>pandas DataFrame</em>) – Spectral density [m^2/Hz] indexed by frequency [Hz]</p></li>
<li><p><strong>h</strong> (<em>float</em>) – Water depth [m]</p></li>
<li><p><strong>rho</strong> (<em>float</em><em> (</em><em>optional</em><em>)</em>) – Water Density [kg/m3]</p></li>
<li><p><strong>g</strong> (<em>float</em><em> (</em><em>optional</em><em>)</em>) – Gravitational acceleration [m/s^2]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>J</strong> – Omni-directional wave energy flux [W/m] indexed by S.columns</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.wave.resource.energy_period">
<code class="sig-prename descclassname">mhkit.wave.resource.</code><code class="sig-name descname">energy_period</code><span class="sig-paren">(</span><em class="sig-param">S</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/wave/resource.html#energy_period"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.wave.resource.energy_period" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates wave energy period from spectra</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>S</strong> (<em>pandas DataFrame</em>) – Spectral density [m^2/Hz] indexed by frequency [Hz]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Te</strong> – Wave energy period [s] indexed by S.columns</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.wave.resource.frequency_moment">
<code class="sig-prename descclassname">mhkit.wave.resource.</code><code class="sig-name descname">frequency_moment</code><span class="sig-paren">(</span><em class="sig-param">S</em>, <em class="sig-param">N</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/wave/resource.html#frequency_moment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.wave.resource.frequency_moment" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the Nth frequency moment of the spectrum</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> (<em>pandas DataFrame</em>) – Spectral density [m^2/Hz] indexed by frequency [Hz]</p></li>
<li><p><strong>N</strong> (<em>int</em>) – Moment (0 for 0th, 1 for 1st ….)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>m</strong> – Nth Frequency Moment indexed by S.columns</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.wave.resource.jonswap_spectrum">
<code class="sig-prename descclassname">mhkit.wave.resource.</code><code class="sig-name descname">jonswap_spectrum</code><span class="sig-paren">(</span><em class="sig-param">f</em>, <em class="sig-param">Tp</em>, <em class="sig-param">Hs</em>, <em class="sig-param">gamma=3.3</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/wave/resource.html#jonswap_spectrum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.wave.resource.jonswap_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates JONSWAP spectrum from Hasselmann et al (1973)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> (<em>numpy array</em>) – Frequency [Hz]</p></li>
<li><p><strong>Tp</strong> (<em>float/int</em>) – Peak period [s]</p></li>
<li><p><strong>Hs</strong> (<em>float/int</em>) – Significant wave height [m]</p></li>
<li><p><strong>gamma</strong> (<em>float</em><em> (</em><em>optional</em><em>)</em>) – Gamma</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>S</strong> – Spectral density [m^2/Hz] indexed frequency [Hz]</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.wave.resource.peak_period">
<code class="sig-prename descclassname">mhkit.wave.resource.</code><code class="sig-name descname">peak_period</code><span class="sig-paren">(</span><em class="sig-param">S</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/wave/resource.html#peak_period"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.wave.resource.peak_period" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates wave energy period from spectra</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>S</strong> (<em>pandas DataFrame</em>) – Spectral density [m^2/Hz] indexed by frequency [Hz]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Tp</strong> – Wave peak period [s] indexed by S.columns</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.wave.resource.pierson_moskowitz_spectrum">
<code class="sig-prename descclassname">mhkit.wave.resource.</code><code class="sig-name descname">pierson_moskowitz_spectrum</code><span class="sig-paren">(</span><em class="sig-param">f</em>, <em class="sig-param">Tp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/wave/resource.html#pierson_moskowitz_spectrum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.wave.resource.pierson_moskowitz_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates Pierson-Moskowitz Spectrum from Tucker and Pitt (2001)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> (<em>numpy array</em>) – Frequency [Hz]</p></li>
<li><p><strong>Tp</strong> (<em>float/int</em>) – Peak period [s]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>S</strong> – Spectral density [m^2/Hz] indexed frequency [Hz]</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.wave.resource.significant_wave_height">
<code class="sig-prename descclassname">mhkit.wave.resource.</code><code class="sig-name descname">significant_wave_height</code><span class="sig-paren">(</span><em class="sig-param">S</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/wave/resource.html#significant_wave_height"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.wave.resource.significant_wave_height" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates wave height from spectra</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>S</strong> (<em>pandas DataFrame</em>) – Spectral density [m^2/Hz] indexed by frequency [Hz]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Hm0</strong> – Significant wave height [m] index by S.columns</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.wave.resource.spectral_bandwidth">
<code class="sig-prename descclassname">mhkit.wave.resource.</code><code class="sig-name descname">spectral_bandwidth</code><span class="sig-paren">(</span><em class="sig-param">S</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/wave/resource.html#spectral_bandwidth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.wave.resource.spectral_bandwidth" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates bandwidth from spectra</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>S</strong> (<em>pandas DataFrame</em>) – Spectral density [m^2/Hz] indexed by frequency [Hz]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>e</strong> – Spectral bandwidth [s] indexed by S.columns</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.wave.resource.spectral_width">
<code class="sig-prename descclassname">mhkit.wave.resource.</code><code class="sig-name descname">spectral_width</code><span class="sig-paren">(</span><em class="sig-param">S</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/wave/resource.html#spectral_width"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.wave.resource.spectral_width" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates wave spectral width from spectra</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>S</strong> (<em>pandas DataFrame</em>) – Spectral density [m^2/Hz] indexed by frequency [Hz]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>v</strong> – Spectral width [m] indexed by S.columns</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.wave.resource.surface_elevation">
<code class="sig-prename descclassname">mhkit.wave.resource.</code><code class="sig-name descname">surface_elevation</code><span class="sig-paren">(</span><em class="sig-param">S</em>, <em class="sig-param">time_index</em>, <em class="sig-param">seed=123</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/wave/resource.html#surface_elevation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.wave.resource.surface_elevation" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates wave elevation time series from spectrum using a random phase</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> (<em>pandas DataFrame</em>) – Spectral density [m^2/Hz] indexed by frequency [Hz]</p></li>
<li><p><strong>time_index</strong> (<em>numpy array</em>) – Time used to create the wave elevation time series [s],
for example, time = np.arange(0,100,0.01)</p></li>
<li><p><strong>seed</strong> (<em>int</em><em> (</em><em>optional</em><em>)</em>) – Random seed</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>eta</strong> – Wave surface elevation [m] indexed by time [s]</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.wave.resource.wave_celerity">
<code class="sig-prename descclassname">mhkit.wave.resource.</code><code class="sig-name descname">wave_celerity</code><span class="sig-paren">(</span><em class="sig-param">k</em>, <em class="sig-param">h</em>, <em class="sig-param">g=9.80665</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/wave/resource.html#wave_celerity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.wave.resource.wave_celerity" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates wave celerity (group velocity)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>k</strong> (<em>pandas DataFrame</em>) – Wave number [1/m] indexed by frequency [Hz]</p></li>
<li><p><strong>h</strong> (<em>float</em>) – Water depth [m]</p></li>
<li><p><strong>g</strong> (<em>float</em><em> (</em><em>optional</em><em>)</em>) – Gravitational acceleration [m/s^2]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Cg</strong> – Water celerity [?] indexed by frequency [Hz]</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.wave.resource.wave_number">
<code class="sig-prename descclassname">mhkit.wave.resource.</code><code class="sig-name descname">wave_number</code><span class="sig-paren">(</span><em class="sig-param">f</em>, <em class="sig-param">h</em>, <em class="sig-param">rho=1025</em>, <em class="sig-param">g=9.80665</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/wave/resource.html#wave_number"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.wave.resource.wave_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates wave number</p>
<p>To compute wave number from angular frequency (w), convert w to f before
using this function (f = w/2*pi)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> (<em>numpy array</em>) – Frequency [Hz]</p></li>
<li><p><strong>h</strong> (<em>float</em>) – Water depth [m]</p></li>
<li><p><strong>rho</strong> (<em>float</em><em> (</em><em>optional</em><em>)</em>) – Water density [kg/m^3]</p></li>
<li><p><strong>g</strong> (<em>float</em><em> (</em><em>optional</em><em>)</em>) – Gravitational acceleration [m/s^2]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>k</strong> – Wave number [1/m] indexed by frequency [Hz]</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas DataFrame</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="id11">
<h4>Performance<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h4>
<span class="target" id="module-mhkit.wave.performance"></span><dl class="function">
<dt id="mhkit.wave.performance.ac_power_three_phase">
<code class="sig-prename descclassname">mhkit.wave.performance.</code><code class="sig-name descname">ac_power_three_phase</code><span class="sig-paren">(</span><em class="sig-param">voltage</em>, <em class="sig-param">current</em>, <em class="sig-param">power_factor</em>, <em class="sig-param">line_to_line=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/wave/performance.html#ac_power_three_phase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.wave.performance.ac_power_three_phase" title="Permalink to this definition">¶</a></dt>
<dd><p>Calcuates the Time series of real power from
line to neutral voltage and current</p>
<dl class="simple">
<dt>voltage: Pandas Dataframe</dt><dd><dl class="simple">
<dt>Time series of all three measured volatege phases (V)</dt><dd><p>indexed by time</p>
</dd>
</dl>
</dd>
<dt>current: Pandas Dataframe</dt><dd><dl class="simple">
<dt>Time series of all three measured current phases(A)</dt><dd><p>indexed by time</p>
</dd>
</dl>
</dd>
<dt>power_factor: float</dt><dd><p>power factor for the system</p>
</dd>
<dt>line_to_line: bool</dt><dd><p>Set to true if the given voltage measurements are line_to_line</p>
</dd>
</dl>
<dl class="simple">
<dt>P: Pandas Dataframe</dt><dd><p>Time series of the new power (W)
indexed by time</p>
</dd>
</dl>
<p>Version 1, 11/06/2019 Rebecca Pauly, NREL</p>
</dd></dl>

<dl class="function">
<dt id="mhkit.wave.performance.capture_length">
<code class="sig-prename descclassname">mhkit.wave.performance.</code><code class="sig-name descname">capture_length</code><span class="sig-paren">(</span><em class="sig-param">P</em>, <em class="sig-param">J</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/wave/performance.html#capture_length"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.wave.performance.capture_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the capture length (often called capture width).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>P</strong> (<em>numpy array</em><em> or </em><em>pandas Series</em>) – Power [W]</p></li>
<li><p><strong>J</strong> (<em>numpy array</em><em> or </em><em>pandas Series</em>) – Omnidirectional wave energy flux [W/m]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>L</strong> – Capture length [m]</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy array or pandas Series</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.wave.performance.capture_length_matrix">
<code class="sig-prename descclassname">mhkit.wave.performance.</code><code class="sig-name descname">capture_length_matrix</code><span class="sig-paren">(</span><em class="sig-param">Hm0</em>, <em class="sig-param">Te</em>, <em class="sig-param">L</em>, <em class="sig-param">statistic</em>, <em class="sig-param">Hm0_bins</em>, <em class="sig-param">Te_bins</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/wave/performance.html#capture_length_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.wave.performance.capture_length_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a capture length matrix for a given statistic</p>
<p>Note that IEC/TS 62600-100 requires capture length matrices for
the mean, std, count, min, and max.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Hm0</strong> (<em>numpy array</em><em> or </em><em>pandas Series</em>) – Significant wave height from spectra [m]</p></li>
<li><p><strong>Te</strong> (<em>numpy array</em><em> or </em><em>pandas Series</em>) – Energy period from spectra [s]</p></li>
<li><p><strong>L</strong> (<em>numpy array</em><em> or </em><em>pandas Series</em>) – Capture length [m]</p></li>
<li><p><strong>statistic</strong> (<em>string</em>) – Statistic for each bin, options include: ‘mean’, ‘std’, ‘median’,
‘count’, ‘sum’, ‘min’, ‘max’, and ‘frequency’.  Note that ‘std’ uses
a degree of freedom of 1 in accordance with IEC/TS 62600-100.</p></li>
<li><p><strong>Hm0_bins</strong> (<em>numpy array</em>) – Bin centers for Hm0 [m]</p></li>
<li><p><strong>Te_bins</strong> (<em>numpy array</em>) – Bin centers for Te [s]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>LM</strong> – Capture length matrix with index equal to Hm0_bins and columns
equal to Te_bins</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas DataFrames</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.wave.performance.dc_power">
<code class="sig-prename descclassname">mhkit.wave.performance.</code><code class="sig-name descname">dc_power</code><span class="sig-paren">(</span><em class="sig-param">voltage</em>, <em class="sig-param">current</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/wave/performance.html#dc_power"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.wave.performance.dc_power" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>voltage: Pandas Dataframe, Series, or numpy array</dt><dd><dl class="simple">
<dt>Time series of measured DC volatege (V)</dt><dd><p>indexed by time</p>
</dd>
</dl>
</dd>
<dt>current: Pandas Dataframe, Series, or numpy array</dt><dd><dl class="simple">
<dt>Time series of the measured three phase current (A)</dt><dd><p>indexed by time</p>
</dd>
</dl>
</dd>
</dl>
<dl class="simple">
<dt>P: Pandas Dataframe</dt><dd><p>Time series of the new power (W) from each channel and gross power
indexed by time</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.wave.performance.mean_annual_energy_production_matrix">
<code class="sig-prename descclassname">mhkit.wave.performance.</code><code class="sig-name descname">mean_annual_energy_production_matrix</code><span class="sig-paren">(</span><em class="sig-param">LM</em>, <em class="sig-param">JM</em>, <em class="sig-param">frequency</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/wave/performance.html#mean_annual_energy_production_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.wave.performance.mean_annual_energy_production_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates mean annual energy production (MAEP) from matrix data
along with data frequency in each bin</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>LM</strong> (<em>pandas DataFrame</em>) – Capture length</p></li>
<li><p><strong>JM</strong> (<em>pandas DataFrame</em>) – Wave energy flux</p></li>
<li><p><strong>frequency</strong> (<em>pandas DataFrame</em>) – Data frequency for each bin</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>maep</strong> – Mean annual energy production</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.wave.performance.mean_annual_energy_production_timeseries">
<code class="sig-prename descclassname">mhkit.wave.performance.</code><code class="sig-name descname">mean_annual_energy_production_timeseries</code><span class="sig-paren">(</span><em class="sig-param">L</em>, <em class="sig-param">J</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/wave/performance.html#mean_annual_energy_production_timeseries"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.wave.performance.mean_annual_energy_production_timeseries" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates mean annual energy production (MAEP) from timeseries</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>L</strong> (<em>numpy array</em><em> or </em><em>pandas Series</em>) – Capture length</p></li>
<li><p><strong>J</strong> (<em>numpy array</em><em> or </em><em>pandas Series</em>) – Wave energy flux</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>maep</strong> – Mean annual energy production</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.wave.performance.power_matrix">
<code class="sig-prename descclassname">mhkit.wave.performance.</code><code class="sig-name descname">power_matrix</code><span class="sig-paren">(</span><em class="sig-param">LM</em>, <em class="sig-param">JM</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/wave/performance.html#power_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.wave.performance.power_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a power matrix from a capture length matrix and wave energy
flux matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>LM</strong> (<em>pandas DataFrame</em>) – Capture length matrix</p></li>
<li><p><strong>JM</strong> (<em>pandas DataFrame</em>) – Wave energy flux matrix</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>PM</strong> – Power matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas DataFrames</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.wave.performance.statistics">
<code class="sig-prename descclassname">mhkit.wave.performance.</code><code class="sig-name descname">statistics</code><span class="sig-paren">(</span><em class="sig-param">X</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/wave/performance.html#statistics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.wave.performance.statistics" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates statistics, including count, mean, standard
deviation (std), min, percentiles (25%, 50%, 75%), and max.</p>
<p>Note that std uses a degree of freedom of 1 in accordance with
IEC/TS 62600-100.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X</strong> (<em>numpy array</em><em> or </em><em>pandas Series</em>) – Data</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>stats</strong> – Statistics</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas Series</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.wave.performance.wave_energy_flux_matrix">
<code class="sig-prename descclassname">mhkit.wave.performance.</code><code class="sig-name descname">wave_energy_flux_matrix</code><span class="sig-paren">(</span><em class="sig-param">Hm0</em>, <em class="sig-param">Te</em>, <em class="sig-param">J</em>, <em class="sig-param">statistic</em>, <em class="sig-param">Hm0_bins</em>, <em class="sig-param">Te_bins</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/wave/performance.html#wave_energy_flux_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.wave.performance.wave_energy_flux_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a wave energy flux matrix for a given statistic</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Hm0</strong> (<em>numpy array</em><em> or </em><em>pandas Series</em>) – Significant wave height from spectra [m]</p></li>
<li><p><strong>Te</strong> (<em>numpy array</em><em> or </em><em>pandas Series</em>) – Energy period from spectra [s]</p></li>
<li><p><strong>J</strong> (<em>numpy array</em><em> or </em><em>pandas Series</em>) – Wave energy flux from spectra [W/m]</p></li>
<li><p><strong>statistic</strong> (<em>string</em>) – Statistic for each bin, options include: ‘mean’, ‘std’, ‘median’,
‘count’, ‘sum’, ‘min’, ‘max’, and ‘frequency’.  Note that ‘std’ uses a degree of freedom
of 1 in accordance of IEC/TS 62600-100.</p></li>
<li><p><strong>Hm0_bins</strong> (<em>numpy array</em>) – Bin centers for Hm0 [m]</p></li>
<li><p><strong>Te_bins</strong> (<em>numpy array</em>) – Bin centers for Te [s]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>JM</strong> – Wave energy flux matrix with index equal to Hm0_bins and columns
equal to Te_bins</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas DataFrames</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="id12">
<h4>Graphics<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h4>
<span class="target" id="module-mhkit.wave.graphics"></span><dl class="function">
<dt id="mhkit.wave.graphics.plot_elevation_timeseries">
<code class="sig-prename descclassname">mhkit.wave.graphics.</code><code class="sig-name descname">plot_elevation_timeseries</code><span class="sig-paren">(</span><em class="sig-param">eta</em>, <em class="sig-param">ax=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/wave/graphics.html#plot_elevation_timeseries"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.wave.graphics.plot_elevation_timeseries" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot wave surface elevation time series</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eta</strong> (<em>pandas DataFrame</em>) – Wave surface elevation [m] indexed by time [datetime or s]</p></li>
<li><p><strong>ax</strong> (<em>matplotlib axes object</em>) – Axes for plotting.  If None, then a new figure is created.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>ax</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>matplotlib pyplot axes</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.wave.graphics.plot_matrix">
<code class="sig-prename descclassname">mhkit.wave.graphics.</code><code class="sig-name descname">plot_matrix</code><span class="sig-paren">(</span><em class="sig-param">M</em>, <em class="sig-param">xlabel='Te'</em>, <em class="sig-param">ylabel='Hm0'</em>, <em class="sig-param">zlabel=None</em>, <em class="sig-param">show_values=True</em>, <em class="sig-param">ax=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/wave/graphics.html#plot_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.wave.graphics.plot_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots values in the matrix as a scatter diagram</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>M</strong> (<em>pandas DataFrame</em>) – Matrix with numeric labels for x and y axis, and numeric entries.
An example would be the average capture length matrix generated by
mhkit.device.wave, or something similar.</p></li>
<li><p><strong>xlabel</strong> (<em>string</em><em> (</em><em>optional</em><em>)</em>) – Title of the x-axis</p></li>
<li><p><strong>ylabel</strong> (<em>string</em><em> (</em><em>optional</em><em>)</em>) – Title of the y-axis</p></li>
<li><p><strong>zlabel</strong> (<em>string</em><em> (</em><em>optional</em><em>)</em>) – Colorbar label</p></li>
<li><p><strong>show_values</strong> (<em>bool</em><em> (</em><em>optional</em><em>)</em>) – Show values on the scatter diagram</p></li>
<li><p><strong>ax</strong> (<em>matplotlib axes object</em>) – Axes for plotting.  If None, then a new figure is created.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>ax</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>matplotlib pyplot axes</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.wave.graphics.plot_spectrum">
<code class="sig-prename descclassname">mhkit.wave.graphics.</code><code class="sig-name descname">plot_spectrum</code><span class="sig-paren">(</span><em class="sig-param">S</em>, <em class="sig-param">ax=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/wave/graphics.html#plot_spectrum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.wave.graphics.plot_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots wave amplitude spectrum versus omega</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>S</strong> (<em>pandas DataFrame</em>) – Spectral density [m^2/Hz] indexed frequency [Hz]</p></li>
<li><p><strong>ax</strong> (<em>matplotlib axes object</em>) – Axes for plotting.  If None, then a new figure is created.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>ax</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>matplotlib pyplot axes</p>
</dd>
</dl>
</dd></dl>

</div>
</div>
<div class="section" id="river-api">
<span id="id13"></span><h3>River Module<a class="headerlink" href="#river-api" title="Permalink to this headline">¶</a></h3>
<p>The river module contains a set of functions to
calculate quantities of interest for river energy converters (REC).</p>
<span class="target" id="module-mhkit.river"></span><div class="section" id="id14">
<h4>IO<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h4>
<span class="target" id="module-mhkit.river.io"></span><dl class="function">
<dt id="mhkit.river.io.read_usgs_file">
<code class="sig-prename descclassname">mhkit.river.io.</code><code class="sig-name descname">read_usgs_file</code><span class="sig-paren">(</span><em class="sig-param">file_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/river/io.html#read_usgs_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.river.io.read_usgs_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a USGS JSON data file (from <a class="reference external" href="https://waterdata.usgs.gov/nwis">https://waterdata.usgs.gov/nwis</a>)
into a pandas DataFrame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file_name</strong> (<em>str</em>) – Name of USGS JSON data file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>data</strong> – Data indexed by datetime with columns named according to the parameter’s
variable description</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.river.io.request_usgs_data">
<code class="sig-prename descclassname">mhkit.river.io.</code><code class="sig-name descname">request_usgs_data</code><span class="sig-paren">(</span><em class="sig-param">station</em>, <em class="sig-param">parameter</em>, <em class="sig-param">start_date</em>, <em class="sig-param">end_date</em>, <em class="sig-param">data_type='Daily'</em>, <em class="sig-param">proxy=None</em>, <em class="sig-param">write_json=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/river/io.html#request_usgs_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.river.io.request_usgs_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads USGS data directly from <a class="reference external" href="https://waterdata.usgs.gov/nwis">https://waterdata.usgs.gov/nwis</a> using a
GET request into a pandas DataFrame</p>
<p>The request URL prints to the screen.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>str</em>) – USGS station number (e.g. ‘08313000’)</p></li>
<li><p><strong>parameter</strong> (<em>str</em>) – USGS paramter ID (e.g. ‘00060’ for Discharge, cubic feet per second)</p></li>
<li><p><strong>start_date</strong> (<em>str</em>) – Start date in the format ‘YYYY-MM-DD’ (e.g. ‘2018-01-01’)</p></li>
<li><p><strong>end_date</strong> (<em>str</em>) – End date in the format ‘YYYY-MM-DD’ (e.g. ‘2018-12-31’)</p></li>
<li><p><strong>data_type</strong> (<em>str</em>) – Data type, options include ‘Daily’ (return the mean daily value) and
‘Instantaneous’.</p></li>
<li><p><strong>proxy</strong> (<em>dict</em><em> or </em><em>None</em>) – To request data from behind a firewall, define a dictionary of proxy settings,
for example {“http”: ‘localhost:8080’}</p></li>
<li><p><strong>write_json</strong> (<em>str</em><em> or </em><em>None</em>) – Name of json file to write data</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>data</strong> – Data indexed by datetime with columns named according to the parameter’s
variable description</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p># 10 years of daily discharge values at Tenana River near Nenana
data = request_usgs_data(station=”15515500”, parameter=‘00065’,</p>
<blockquote>
<div><p>start_date=‘2009-08-01’,
end_date=‘2019-08-01’,
data_type=’Instantaneous’)</p>
</div></blockquote>
<p># 10 years of instaneous gage height measurements
data = request_usgs_data(station=”15515500”, parameter=‘00065’,</p>
<blockquote>
<div><p>start_date=‘2009-08-01’,
end_date=‘2019-08-01’,
data_type=’Instantaneous’)</p>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="id15">
<h4>Resource<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h4>
<span class="target" id="module-mhkit.river.resource"></span><dl class="function">
<dt id="mhkit.river.resource.Froude_number">
<code class="sig-prename descclassname">mhkit.river.resource.</code><code class="sig-name descname">Froude_number</code><span class="sig-paren">(</span><em class="sig-param">v</em>, <em class="sig-param">h</em>, <em class="sig-param">g=9.80665</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/river/resource.html#Froude_number"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.river.resource.Froude_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the Froude Number of the river, channel or duct flow,
to check subcritical flow assumption (if Fr &lt;1).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> (<em>int/float</em>) – Average velocity [m/s].</p></li>
<li><p><strong>h</strong> (<em>int/float</em>) – Mean hydrolic depth float [m].</p></li>
<li><p><strong>g</strong> (<em>int/float</em>) – Gravitational acceleration [m/s2].</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Fr</strong> – Froude Number of the river [unitless].</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.river.resource.discharge_to_velocity">
<code class="sig-prename descclassname">mhkit.river.resource.</code><code class="sig-name descname">discharge_to_velocity</code><span class="sig-paren">(</span><em class="sig-param">D</em>, <em class="sig-param">polynomial_coefficients</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/river/resource.html#discharge_to_velocity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.river.resource.discharge_to_velocity" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates velocity given discharge data and the relationship between
discharge and velocity at an individual turbine</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>D</strong> (<em>pandas Series</em>) – Discharge data [m3/s] indexed by time [datetime or s]</p></li>
<li><p><strong>polynomial_coefficients</strong> (<em>numpy polynomial</em>) – List of polynomial coefficients that discribe the relationship between
discharge and velocity at an individual turbine</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>V</strong> – Velocity [m/s] indexed by time [datetime or s]</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.river.resource.energy_produced">
<code class="sig-prename descclassname">mhkit.river.resource.</code><code class="sig-name descname">energy_produced</code><span class="sig-paren">(</span><em class="sig-param">F</em>, <em class="sig-param">P</em>, <em class="sig-param">seconds</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/river/resource.html#energy_produced"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.river.resource.energy_produced" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the energy produced for a given time period provided
exceedence probability and power.
:param F: Exceedance probability [unitless] indexed by time [datetime or s]
:type F: pandas DataFrame
:param P: Power [W] indexed by time [datetime or s]
:type P: pandas DataFrame
:param seconds: Seconds in the time period of interest
:type seconds: float</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>E</strong> – Energy [J] produced in the given time frame</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.river.resource.exceedance_probability">
<code class="sig-prename descclassname">mhkit.river.resource.</code><code class="sig-name descname">exceedance_probability</code><span class="sig-paren">(</span><em class="sig-param">D</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/river/resource.html#exceedance_probability"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.river.resource.exceedance_probability" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the exceedance probability</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>D</strong> (<em>pandas Series</em>) – Data indexed by time [datetime or s].</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>F</strong> – Exceedance probability [unitless] indexed by time [datetime or s]</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.river.resource.polynomial_fit">
<code class="sig-prename descclassname">mhkit.river.resource.</code><code class="sig-name descname">polynomial_fit</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/river/resource.html#polynomial_fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.river.resource.polynomial_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a polynomial fit for y given x of order n
with an R-squared score of the fit</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>numpy array</em>) – x data for polynomial fit.</p></li>
<li><p><strong>y</strong> (<em>numpy array</em>) – y data for polynomial fit.</p></li>
<li><p><strong>n</strong> (<em>int</em>) – order of the polynomial fit.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>polynomial_coefficients</strong> (<em>numpy polynomial</em>) – List of polynomial coefficients</p></li>
<li><p><strong>R2</strong> (<em>float</em>) – Polynomical fit coeffcient of determination</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.river.resource.velocity_to_power">
<code class="sig-prename descclassname">mhkit.river.resource.</code><code class="sig-name descname">velocity_to_power</code><span class="sig-paren">(</span><em class="sig-param">V</em>, <em class="sig-param">polynomial_coefficients</em>, <em class="sig-param">cut_in</em>, <em class="sig-param">cut_out</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/river/resource.html#velocity_to_power"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.river.resource.velocity_to_power" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates power given velocity data and the relationship
between velocity and power from an individual turbine</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>V</strong> (<em>pandas Series</em>) – Velocity [m/s] indexed by time [datetime or s]</p></li>
<li><p><strong>polynomial_coefficients</strong> (<em>numpy polynomial</em>) – List of polynomial coefficients that discribe the relationship between
velocity and power at an individual turbine</p></li>
<li><p><strong>cut_in</strong> (<em>int/float</em>) – Velocity values below cut_in are not used to compute P</p></li>
<li><p><strong>cut_out</strong> (<em>int/float</em>) – Velocity values above cut_out are not used to compute P</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>P</strong> – Power [W] indexed by time [datetime or s]</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas DataFrame</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="id16">
<h4>Device<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h4>
<span class="target" id="module-mhkit.river.device"></span><dl class="function">
<dt id="mhkit.river.device.circular">
<code class="sig-prename descclassname">mhkit.river.device.</code><code class="sig-name descname">circular</code><span class="sig-paren">(</span><em class="sig-param">diameter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/river/device.html#circular"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.river.device.circular" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the equivalent diameter and projected capture area of a
circular turbine</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>diameter</strong> (<em>int/float</em>) – Turbine diameter [m]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>equivalent_diameter</strong> (<em>float</em>) – Equivalent diameter [m]</p></li>
<li><p><strong>projected_capture_area</strong> (<em>float</em>) – Projected capture area [m^2]</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.river.device.ducted">
<code class="sig-prename descclassname">mhkit.river.device.</code><code class="sig-name descname">ducted</code><span class="sig-paren">(</span><em class="sig-param">duct_diameter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/river/device.html#ducted"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.river.device.ducted" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the equivalent diameter and projected capture area of a
ducted turbine</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>duct_diameter</strong> (<em>int/float</em>) – Duct diameter [m]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>equivalent_diameter</strong> (<em>float</em>) – Equivalent diameter [m]</p></li>
<li><p><strong>projected_capture_area</strong> (<em>float</em>) – Projected capture area [m^2]</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.river.device.multiple_circular">
<code class="sig-prename descclassname">mhkit.river.device.</code><code class="sig-name descname">multiple_circular</code><span class="sig-paren">(</span><em class="sig-param">diameters</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/river/device.html#multiple_circular"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.river.device.multiple_circular" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the equivalent diameter and projected capture area of a
multiple circular turbine</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>diameters</strong> (<em>list</em>) – List of device diameters [m]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>equivalent_diameter</strong> (<em>float</em>) – Equivalent diameter [m]</p></li>
<li><p><strong>projected_capture_area</strong> (<em>float</em>) – Projected capture area [m^2]</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.river.device.rectangular">
<code class="sig-prename descclassname">mhkit.river.device.</code><code class="sig-name descname">rectangular</code><span class="sig-paren">(</span><em class="sig-param">h</em>, <em class="sig-param">w</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/river/device.html#rectangular"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.river.device.rectangular" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the equivalent diameter and projected capture area of a
retangular turbine</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h</strong> (<em>int/float</em>) – Turbine height [m]</p></li>
<li><p><strong>w</strong> (<em>int/float</em>) – Turbine width [m]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>equivalent_diameter</strong> (<em>float</em>) – Equivalent diameter [m]</p></li>
<li><p><strong>projected_capture_area</strong> (<em>float</em>) – Projected capture area [m^2]</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="id17">
<h4>Graphics<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h4>
<span class="target" id="module-mhkit.river.graphics"></span><dl class="function">
<dt id="mhkit.river.graphics.plot_discharge_timeseries">
<code class="sig-prename descclassname">mhkit.river.graphics.</code><code class="sig-name descname">plot_discharge_timeseries</code><span class="sig-paren">(</span><em class="sig-param">Q</em>, <em class="sig-param">label=None</em>, <em class="sig-param">ax=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/river/graphics.html#plot_discharge_timeseries"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.river.graphics.plot_discharge_timeseries" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots discharge timeseries</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Q</strong> (<em>array-like</em>) – Discharge [m3/s] indexed by time</p></li>
<li><p><strong>label</strong> (<em>string</em>) – Label to use in the legend</p></li>
<li><p><strong>ax</strong> (<em>matplotlib axes object</em>) – Axes for plotting.  If None, then a new figure with a single
axes is used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>ax</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>matplotlib pyplot axes</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.river.graphics.plot_discharge_vs_velocity">
<code class="sig-prename descclassname">mhkit.river.graphics.</code><code class="sig-name descname">plot_discharge_vs_velocity</code><span class="sig-paren">(</span><em class="sig-param">D</em>, <em class="sig-param">V</em>, <em class="sig-param">polynomial_coeff=None</em>, <em class="sig-param">label=None</em>, <em class="sig-param">ax=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/river/graphics.html#plot_discharge_vs_velocity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.river.graphics.plot_discharge_vs_velocity" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots discharge vs velocity data along with the polynomial fit</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>D</strong> (<em>pandas Series</em>) – Discharge [m/s] indexed by time</p></li>
<li><p><strong>V</strong> (<em>pandas Series</em>) – Velocity [m/s] indexed by time</p></li>
<li><p><strong>polynomial_coeff</strong> (<em>numpy polynomial</em>) – Polynomial coefficients, which can be computed using
<cite>river.resource.polynomial_fit</cite>.  If None, then the polynomial fit is
not included int the plot.</p></li>
<li><p><strong>ax</strong> (<em>matplotlib axes object</em>) – Axes for plotting.  If None, then a new figure with a single
axes is used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>ax</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>matplotlib pyplot axes</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.river.graphics.plot_flow_duration_curve">
<code class="sig-prename descclassname">mhkit.river.graphics.</code><code class="sig-name descname">plot_flow_duration_curve</code><span class="sig-paren">(</span><em class="sig-param">D</em>, <em class="sig-param">F</em>, <em class="sig-param">label=None</em>, <em class="sig-param">ax=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/river/graphics.html#plot_flow_duration_curve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.river.graphics.plot_flow_duration_curve" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots discharge vs exceedance probability as a Flow Duration Curve (FDC)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>D</strong> (<em>array-like</em>) – Discharge [m/s] indexed by time</p></li>
<li><p><strong>F</strong> (<em>array-like</em>) – Exceedance probability [unitless] indexed by time</p></li>
<li><p><strong>label</strong> (<em>string</em>) – Label to use in the legend</p></li>
<li><p><strong>ax</strong> (<em>matplotlib axes object</em>) – Axes for plotting.  If None, then a new figure with a single
axes is used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>ax</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>matplotlib pyplot axes</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.river.graphics.plot_power_duration_curve">
<code class="sig-prename descclassname">mhkit.river.graphics.</code><code class="sig-name descname">plot_power_duration_curve</code><span class="sig-paren">(</span><em class="sig-param">P</em>, <em class="sig-param">F</em>, <em class="sig-param">label=None</em>, <em class="sig-param">ax=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/river/graphics.html#plot_power_duration_curve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.river.graphics.plot_power_duration_curve" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots power vs exceedance probability as a Power Duration Curve (PDC)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>P</strong> (<em>array-like</em>) – Power [W] indexed by time</p></li>
<li><p><strong>F</strong> (<em>array-like</em>) – Exceedance probability [unitless] indexed by time</p></li>
<li><p><strong>label</strong> (<em>string</em>) – Label to use in the legend</p></li>
<li><p><strong>ax</strong> (<em>matplotlib axes object</em>) – Axes for plotting.  If None, then a new figure with a single
axes is used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>ax</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>matplotlib pyplot axes</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.river.graphics.plot_velocity_duration_curve">
<code class="sig-prename descclassname">mhkit.river.graphics.</code><code class="sig-name descname">plot_velocity_duration_curve</code><span class="sig-paren">(</span><em class="sig-param">V</em>, <em class="sig-param">F</em>, <em class="sig-param">label=None</em>, <em class="sig-param">ax=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/river/graphics.html#plot_velocity_duration_curve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.river.graphics.plot_velocity_duration_curve" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots velocity vs exceedance probability as a Velocity Duration Curve (VDC)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>V</strong> (<em>array-like</em>) – Velocity [m/s] indexed by time</p></li>
<li><p><strong>F</strong> (<em>array-like</em>) – Exceedance probability [unitless] indexed by time</p></li>
<li><p><strong>label</strong> (<em>string</em>) – Label to use in the legend</p></li>
<li><p><strong>ax</strong> (<em>matplotlib axes object</em>) – Axes for plotting.  If None, then a new figure with a single
axes is used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>ax</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>matplotlib pyplot axes</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mhkit.river.graphics.plot_velocity_vs_power">
<code class="sig-prename descclassname">mhkit.river.graphics.</code><code class="sig-name descname">plot_velocity_vs_power</code><span class="sig-paren">(</span><em class="sig-param">V</em>, <em class="sig-param">P</em>, <em class="sig-param">polynomial_coeff=None</em>, <em class="sig-param">label=None</em>, <em class="sig-param">ax=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mhkit/river/graphics.html#plot_velocity_vs_power"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mhkit.river.graphics.plot_velocity_vs_power" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots velocity vs power data along with the polynomial fit</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>V</strong> (<em>pandas Series</em>) – Velocity [m/s] indexed by time</p></li>
<li><p><strong>P</strong> (<em>pandas Series</em>) – Power [W] indexed by time</p></li>
<li><p><strong>polynomial_coeff</strong> (<em>numpy polynomial</em>) – Polynomial coefficients, which can be computed using
<cite>river.resource.polynomial_fit</cite>.  If None, then the polynomial fit is
not included int the plot.</p></li>
<li><p><strong>ax</strong> (<em>matplotlib axes object</em>) – Axes for plotting.  If None, then a new figure with a single
axes is used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>ax</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>matplotlib pyplot axes</p>
</dd>
</dl>
</dd></dl>

</div>
</div>
<div class="section" id="tidal-api">
<span id="id18"></span><h3>Tidal Module<a class="headerlink" href="#tidal-api" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Add tidal API</p>
</div>
</div>
</div>
<div class="section" id="examples">
<span id="id19"></span><h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>Jupyter notebook examples of MHKiT Python modules</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Get index to work for examples</p>
</div>
<div class="section" id="id20">
<h3>QC Module<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="mhkit-python/qc_example.html">Quality control analysis</a></p>
</div>
<div class="section" id="id22">
<h3>Wave Module<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="mhkit-python/wave_example.html">Wave performance</a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>add River and Tidal Jupyter Notebooks here</p>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="matlab.html" class="btn btn-neutral float-right" title="MHKiT-Matlab" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="terminology.html" class="btn btn-neutral float-left" title="Terminology" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, National Renewable Energy Laboratory, Pacific Northwest National Laboratory, and Sandia National Laboratories

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>